<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2022-04-07 Thu 10:50 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Knowledge Base</title>
<meta name="author" content="Luis Damiano" />
<meta name="description" content="Luis Damiano Knowledge Base, Tips &amp; Tricks, gotchas" />
<meta name="keywords" content="syntax, quick reference, cheat sheet, recommended practices best practices, don't repeat yourself, automation" />
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
</style>
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/css/readtheorg.css"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/lib/js/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/js/readtheorg.js"></script>
<style>
h2{ border-top: 2px solid black }
ul.org-ul, ol.org-ol { font-size:16px }
</style>
<style type="text/css">
 pre.src {background-color: unspecified-bg; color: brightwhite;}</style>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "center",
        displayIndent: "0em",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "false" },
                        webFont: "TeX"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "false" },
              font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"},
               MultLineWidth: "85%",
               TagSide: "right",
               TagIndent: ".8em"
             }
});
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body>
<div id="content" class="content">
<h1 class="title">Knowledge Base</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#orgac7051d">1. Motivation</a></li>
<li><a href="#org08d60e8">2. Linux</a>
<ul>
<li><a href="#org456afe5">2.1. Arch Linux</a>
<ul>
<li><a href="#org9f2c145">2.1.1. How to update pacman mirrors?</a></li>
</ul>
</li>
<li><a href="#org67323ff">2.2. Bash</a>
<ul>
<li><a href="#orge138a18">2.2.1. How to execute a loop conditionally (dry runs)</a></li>
<li><a href="#org7725158">2.2.2. How to open the N most recently modified files?</a></li>
</ul>
</li>
<li><a href="#org6a4eb08">2.3. Linux</a>
<ul>
<li><a href="#orgcf11f71">2.3.1. How to read a systemd service log for today?</a></li>
<li><a href="#orgb169b29">2.3.2. How to clean up space in /boot?</a></li>
<li><a href="#org3f99cbd">2.3.3. How to determine what shell I am currently working on?</a></li>
<li><a href="#org43ab9c7">2.3.4. How to find and copy all files that match a regex?</a></li>
<li><a href="#org4605146">2.3.5. How to list all files whose content match a regex?</a></li>
<li><a href="#org935a302">2.3.6. How to list memory used by processes in remote cluster?</a></li>
<li><a href="#org7d64dc3">2.3.7. What is the keycode of this key?</a></li>
<li><a href="#org0dd0733">2.3.8. How to find the window dimension and position?</a></li>
<li><a href="#org89ae760">2.3.9. How to convert a pdf to png?</a></li>
<li><a href="#org18cd5ad">2.3.10. How to switch keyboard layout to type Greek letters?</a></li>
<li><a href="#org06c1e85">2.3.11. What are the keyboard layout switching keys?</a></li>
<li><a href="#org1e20331">2.3.12. How to type math symbols, ascii emoji easily?</a></li>
<li><a href="#org190b039">2.3.13. How to set a compose key (<code>Multi_key</code>)?</a></li>
<li><a href="#org362fd11">2.3.14. How to connect OBS to Zoom or Webex?</a></li>
</ul>
</li>
<li><a href="#org07fa98b">2.4. Math typing</a>
<ul>
<li><a href="#org8e25365">2.4.1. Math keyboard layout with UTF-8 support</a></li>
<li><a href="#org6aabb6f">2.4.2. Compose key for mathematics</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org114be06">3. Utilities</a>
<ul>
<li><a href="#org6290c62">3.1. Git</a>
<ul>
<li><a href="#org5567442">3.1.1. What on earth is git?</a></li>
<li><a href="#org3fa74b1">3.1.2. How to rename a branch?</a></li>
<li><a href="#org5bfc5ae">3.1.3. What to do with a branch after merging?</a></li>
<li><a href="#org0595483">3.1.4. How to list unmodified files?</a></li>
<li><a href="#orga6f4409">3.1.5. How to clean a git repo?</a></li>
<li><a href="#org35f0918">3.1.6. How to change a git repo remote from https to ssh?</a></li>
<li><a href="#orgd4e9380">3.1.7. How to clean a .git folder that is too large?</a></li>
<li><a href="#org34d0820">3.1.8. How to stash files that were deleted from disk?</a></li>
<li><a href="#orgd569063">3.1.9. How to revert file removal from git repo?</a></li>
</ul>
</li>
<li><a href="#org3a5387b">3.2. SSH</a>
<ul>
<li><a href="#org1109873">3.2.1. How to generate a new SSH key?</a></li>
<li><a href="#org04b2728">3.2.2. How to avoid logging in remotely many times?</a></li>
<li><a href="#org007583f">3.2.3. How to avoid typing remote addresses and ports?</a></li>
<li><a href="#org5844308">3.2.4. Quality of life improvements</a></li>
</ul>
</li>
<li><a href="#orge994945">3.3. Regular expressions</a>
<ul>
<li><a href="#org5736d63">3.3.1. How to match a keyword except when used as a tag?</a></li>
<li><a href="#org55a4bbe">3.3.2. How to match all R dependencies?</a></li>
<li><a href="#orgeb9c3ef">3.3.3. How to match a custom file separator?</a></li>
<li><a href="#org3b69dc9">3.3.4. How to match any number with decimals up to 10?</a></li>
<li><a href="#org7f9e3af">3.3.5. How to generate a string that matches a regular expression?</a></li>
<li><a href="#orgcf17824">3.3.6. General resources</a></li>
</ul>
</li>
<li><a href="#org3f691f7">3.4. PDF processing</a></li>
<li><a href="#orgef5fd5e">3.5. Hugo</a>
<ul>
<li><a href="#org0aa00eb">3.5.1. How to set <code>target=_blank</code> for all external links?</a></li>
<li><a href="#orgf4ddd3d">3.5.2. How to set the home page to other content?</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org50eaa6d">4. Typesetting</a>
<ul>
<li><a href="#org05eecaf">4.1. (La)TeX</a>
<ul>
<li><a href="#org0c5eaa6">4.1.1. How to write better LaTeX?&#xa0;&#xa0;&#xa0;<span class="tag"><span class="guidelines">guidelines</span></span></a></li>
<li><a href="#org9dd6e2c">4.1.2. How to avoid orphan words?</a></li>
<li><a href="#orgd1bb346">4.1.3. When should I use non-breaking space (tilde)?</a></li>
<li><a href="#org8917844">4.1.4. How to write an unnumbered footnote?</a></li>
<li><a href="#orge88a678">4.1.5. How to type a differential operator <code>dx</code>?</a></li>
<li><a href="#orgd156fd6">4.1.6. What symbol should I use for &#x2026; ?</a></li>
<li><a href="#orgafc2360">4.1.7. Symbol lookup</a></li>
<li><a href="#org4b0759f">4.1.8. How to type the math symbol for definition <code>:=</code>?</a></li>
<li><a href="#orgdd0249d">4.1.9. How to debug the LaTeX document layout, sizes, and spacing?</a></li>
<li><a href="#orgebebdb4">4.1.10. What is the document body ratio?</a></li>
<li><a href="#orgddc6010">4.1.11. How to reduce spacing around figures, tables, captions?</a></li>
<li><a href="#org2337930">4.1.12. How to smash all in-line math?</a></li>
<li><a href="#org2da8db0">4.1.13. How to influence the position of a figure/table?</a></li>
<li><a href="#org3b87826">4.1.14. How to fiddle with math font height and width?</a></li>
<li><a href="#org0560062">4.1.15. How to set a global path for input and graphic files?</a></li>
<li><a href="#org27ad370">4.1.16. How to align table columns without counting them?</a></li>
<li><a href="#org55e04d5">4.1.17. How to add the (sub)section name in the page header?</a></li>
<li><a href="#org94c4354">4.1.18. How to hide section headings?</a></li>
<li><a href="#orgb85c744">4.1.19. How to change the caption font size?</a></li>
<li><a href="#org8a134c9">4.1.20. How to properly compile a LaTeX project?</a></li>
<li><a href="#orgc3058d6">4.1.21. How to make GitHub compile a document after a push?</a></li>
<li><a href="#org49a06c4">4.1.22. How to build a custom style?</a></li>
<li><a href="#orgb54e090">4.1.23. What type of LaTeX commands exist?</a></li>
<li><a href="#orgf6647ad">4.1.24. How to make a class color safe?</a></li>
<li><a href="#org21d2172">4.1.25. How to write a custom LaTeX class?</a></li>
<li><a href="#org5414a22">4.1.26. Resources</a></li>
</ul>
</li>
<li><a href="#org414d0de">4.2. Beamer</a>
<ul>
<li><a href="#org7d6593e">4.2.1. How to build a Beamer template?</a></li>
</ul>
</li>
<li><a href="#org609dd74">4.3. Graph diagrams</a>
<ul>
<li><a href="#org02a4a19">4.3.1. Graphviz</a></li>
<li><a href="#org2f5fc8f">4.3.2. PGF/TikZ</a></li>
</ul>
</li>
<li><a href="#orga6e3d0d">4.4. Biblatex</a></li>
<li><a href="#orge9c1f7d">4.5. Reference management</a></li>
</ul>
</li>
<li><a href="#org6fbbad4">5. Text editors</a>
<ul>
<li><a href="#org5229f30">5.1. Emacs</a>
<ul>
<li><a href="#org6aa232c">5.1.1. How to open all files by pattern?</a></li>
<li><a href="#org4bbe85e">5.1.2. How to highlight by word, line, or regex?</a></li>
<li><a href="#org3df54dd">5.1.3. How to profile init / settings?</a></li>
<li><a href="#org244ab64">5.1.4. Useful modes</a></li>
<li><a href="#org4b66145">5.1.5. Emacs packages worth checking</a></li>
</ul>
</li>
<li><a href="#orgd1bb0d9">5.2. Org-mode</a>
<ul>
<li><a href="#org288d993">5.2.1. How to export/tangle automatically on commit?</a></li>
<li><a href="#orgaeb0cfb">5.2.2. General resources</a></li>
</ul>
</li>
<li><a href="#org85fa28e">5.3. Elisp</a>
<ul>
<li><a href="#orgb7cc211">5.3.1. Where to start with elisp?</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgff9e967">6. Programming</a>
<ul>
<li><a href="#org50743ae">6.1. Programming fonts</a></li>
<li><a href="#orgb112ce3">6.2. Project structure</a></li>
<li><a href="#orgda089be">6.3. Functional programming</a>
<ul>
<li><a href="#org0ef2f0d">6.3.1. Concepts</a></li>
<li><a href="#org36ef4b8">6.3.2. Pure functions</a></li>
<li><a href="#orgb16badb">6.3.3. Functional design patterns</a></li>
<li><a href="#org500a6c4">6.3.4. General</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org33343c5">7. R programming</a>
<ul>
<li><a href="#org7f3e9f9">7.1. Write better R</a>
<ul>
<li><a href="#orgb8febb9">7.1.1. Non-standard evaluation</a></li>
<li><a href="#org99ddc7d">7.1.2. R is functional</a></li>
<li><a href="#org4bae658">7.1.3. R has dynamic binding</a></li>
</ul>
</li>
<li><a href="#org24ccf62">7.2. R programming</a>
<ul>
<li><a href="#org062b2f4">7.2.1. Programming with functions</a></li>
<li><a href="#org132383a">7.2.2. Vectorization</a></li>
<li><a href="#org370c2bd">7.2.3. How to create a sequence within groups?</a></li>
<li><a href="#orgc782acb">7.2.4. How to identify value changes in a sequence?</a></li>
<li><a href="#orga078dea">7.2.5. How to renumber a group?</a></li>
<li><a href="#org61877a2">7.2.6. How to make a cross table with a custom function (e.g., mean)?</a></li>
<li><a href="#orgb482222">7.2.7. How to make lapply return a data.frame?</a></li>
<li><a href="#orgb477087">7.2.8. How to split a matrix row-wise as a list?</a></li>
<li><a href="#org60a1135">7.2.9. How to look up a value among possibilities?</a></li>
<li><a href="#orgf310f3d">7.2.10. How to remove columns with all NA fast?</a></li>
<li><a href="#orge040edb">7.2.11. How to fast apply a function over a ragged array?</a></li>
<li><a href="#orgae19f59">7.2.12. How to fast subset rows corresponding to max value by group?</a></li>
<li><a href="#orge533b42">7.2.13. How to create named vector programatically in one statement?</a></li>
<li><a href="#orgafd49cb">7.2.14. How to get all function call arguments as a list?</a></li>
<li><a href="#orga7a0060">7.2.15. How to debug an error thrown in a package?</a></li>
<li><a href="#org23b5d1b">7.2.16. How to draw a plot with minimal margins?</a></li>
<li><a href="#org27a0b0b">7.2.17. How to check if a value is in an interval?</a></li>
<li><a href="#org2762a38">7.2.18. How to use <code>geom_tile</code> with irregular data?</a></li>
<li><a href="#org4007d6f">7.2.19. How to plot in log scale with base R?</a></li>
<li><a href="#org7e9d3ea">7.2.20. How to fine tune R plot margins?</a></li>
<li><a href="#org789403c">7.2.21. How to make beautiful plots with base R?</a></li>
<li><a href="#org4d7be21">7.2.22. How to improve the look of my rmarkdown HTML document?</a></li>
<li><a href="#orge11aac3">7.2.23. Resources</a></li>
</ul>
</li>
<li><a href="#org347126a">7.3. RStudio</a>
<ul>
<li><a href="#org37f3a31">7.3.1. Should .Rproj files be added to .gitignore?</a></li>
<li><a href="#org47b803f">7.3.2. How to order lines alphabetically?</a></li>
<li><a href="#org69a7935">7.3.3. How to align assignment or equal symbols across lines?</a></li>
</ul>
</li>
<li><a href="#org9155c7a">7.4. Emacs Speaks Statistics</a>
<ul>
<li><a href="#org8dc2548">7.4.1. How to navigate code and jump around?</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org0626b69">8. Stan programming</a>
<ul>
<li><a href="#orgeccc86b">8.1. Stan</a>
<ul>
<li><a href="#org0f4c964">8.1.1. How do I choose between <code>transformed parameters</code> vs <code>model</code> blocks?</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgaf32ce2">9. Data science</a>
<ul>
<li><a href="#org595194d">9.1. Data backup</a>
<ul>
<li><a href="#org54c38aa">9.1.1. What software backup should I use?</a></li>
<li><a href="#orgd7db6f7">9.1.2. How to mark a folder not to be backed up?</a></li>
</ul>
</li>
<li><a href="#org04d95f8">9.2. Data processing</a>
<ul>
<li><a href="#org41f5222">9.2.1. GNU Make</a></li>
<li><a href="#org7d59a5a">9.2.2. Pipeline automation</a></li>
<li><a href="#org995ea1f">9.2.3. How to view tabular data?</a></li>
<li><a href="#org18ae0b7">9.2.4. How to work with collaborators who use spreadsheets?</a></li>
<li><a href="#orgaceec1e">9.2.5. ETL cycle</a></li>
<li><a href="#orge056820">9.2.6. Workflow for statistical analysis and report writing</a></li>
</ul>
</li>
<li><a href="#org18fe4dd">9.3. A typical workflow</a></li>
<li><a href="#orgd983c35">9.4. Data visualization</a>
<ul>
<li><a href="#orgcbaac28">9.4.1. Color palette</a></li>
<li><a href="#orgb78f32f">9.4.2. Resources</a></li>
</ul>
</li>
<li><a href="#org1935a4a">9.5. High power computing</a>
<ul>
<li><a href="#org7ecec6b">9.5.1. How to nicely list all my jobs in Slurm?</a></li>
</ul>
</li>
<li><a href="#org5716275">9.6. Naming convention</a>
<ul>
<li><a href="#org6153ea8">9.6.1. Common guidelines</a></li>
<li><a href="#org5443029">9.6.2. Keywords</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org725462c">10. Statistics</a>
<ul>
<li><a href="#orgfc7f475">10.1. Statistics</a>
<ul>
<li><a href="#orgc49717f">10.1.1. Principal Component Regression</a></li>
<li><a href="#org9d8e595">10.1.2. How to revert SVD?</a></li>
<li><a href="#orgd24f828">10.1.3. How to find which variables are collinear?</a></li>
<li><a href="#org2d0eb7f">10.1.4. How to compute the Cressie and Hawkins (1980) robust estimator?</a></li>
<li><a href="#org3e99893">10.1.5. Priors</a></li>
<li><a href="#org20553f6">10.1.6. MCMC</a></li>
</ul>
</li>
<li><a href="#orge8f6c4c">10.2. Gaussian processes</a>
<ul>
<li><a href="#org054d684">10.2.1. Is the mean function a Gaussian process uninteresting?</a></li>
<li><a href="#orgb1af89f">10.2.2. Is the derivative of a Gaussian process another Gaussian process?</a></li>
<li><a href="#org1d4351a">10.2.3. Is the integral of a Gaussian process another Gaussian process?</a></li>
<li><a href="#orgeed5489">10.2.4. Software</a></li>
<li><a href="#org4da2698">10.2.5. Resources</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org0055948">11. Mathematics</a>
<ul>
<li><a href="#org0690b24">11.1. Math</a>
<ul>
<li><a href="#org65e1770">11.1.1. How to choose \(u\) and \(dv\) in integration by parts?</a></li>
<li><a href="#org66d9ee4">11.1.2. Linear algebra</a></li>
<li><a href="#orgb421516">11.1.3. Optimization</a></li>
<li><a href="#org8ac9387">11.1.4. Other references</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orga1971c6">12. Science</a>
<ul>
<li><a href="#org48058e9">12.1. Scientific communication</a>
<ul>
<li><a href="#orgfed5ba6">12.1.1. General resources</a></li>
<li><a href="#orgb5d86fe">12.1.2. Academic phrases</a></li>
<li><a href="#org73f4a32">12.1.3. No adjectives allowed</a></li>
<li><a href="#org3d58ad8">12.1.4. Use technical terms</a></li>
<li><a href="#orga81d409">12.1.5. Repeat technical terms, no synonyms</a></li>
<li><a href="#org0282c7a">12.1.6. Repeat the technical terms when in doubt</a></li>
<li><a href="#org3bc2663">12.1.7. Attributive nouns</a></li>
<li><a href="#orgf3047c0">12.1.8. Prefer short precise terms over phrases</a></li>
<li><a href="#orgf8cebf7">12.1.9. My own common tics to grep for</a></li>
<li><a href="#orgc39c085">12.1.10. Contextual formatting</a></li>
<li><a href="#org7d3f906">12.1.11. Oral presentations</a></li>
</ul>
</li>
<li><a href="#orgdd7f6db">12.2. Scientific programming</a></li>
<li><a href="#org04bb745">12.3. Research project</a></li>
<li><a href="#orge4556cf">12.4. Scientific writing</a>
<ul>
<li><a href="#org66d81bb">12.4.1. Tags</a></li>
</ul>
</li>
<li><a href="#org19ee169">12.5. Numerical computing</a>
<ul>
<li><a href="#org3cba431">12.5.1. When to use analytical versus automatic differentiation?</a></li>
<li><a href="#orgf60c6f8">12.5.2. How to select algorithm tolerance for numerical differentiation?</a></li>
<li><a href="#org245ce70">12.5.3. How to compute the Euclidean distance matrix fast?</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#orgac7051d">1. Motivation</a></li>
<li><a href="#org08d60e8">2. Linux</a>
<ul>
<li><a href="#org456afe5">2.1. Arch Linux</a></li>
<li><a href="#org67323ff">2.2. Bash</a></li>
<li><a href="#org6a4eb08">2.3. Linux</a></li>
<li><a href="#org07fa98b">2.4. Math typing</a></li>
</ul>
</li>
<li><a href="#org114be06">3. Utilities</a>
<ul>
<li><a href="#org6290c62">3.1. Git</a></li>
<li><a href="#org3a5387b">3.2. SSH</a></li>
<li><a href="#orge994945">3.3. Regular expressions</a></li>
<li><a href="#org3f691f7">3.4. PDF processing</a></li>
<li><a href="#orgef5fd5e">3.5. Hugo</a></li>
</ul>
</li>
<li><a href="#org50eaa6d">4. Typesetting</a>
<ul>
<li><a href="#org05eecaf">4.1. (La)TeX</a></li>
<li><a href="#org414d0de">4.2. Beamer</a></li>
<li><a href="#org609dd74">4.3. Graph diagrams</a></li>
<li><a href="#orga6e3d0d">4.4. Biblatex</a></li>
<li><a href="#orge9c1f7d">4.5. Reference management</a></li>
</ul>
</li>
<li><a href="#org6fbbad4">5. Text editors</a>
<ul>
<li><a href="#org5229f30">5.1. Emacs</a></li>
<li><a href="#orgd1bb0d9">5.2. Org-mode</a></li>
<li><a href="#org85fa28e">5.3. Elisp</a></li>
</ul>
</li>
<li><a href="#orgff9e967">6. Programming</a>
<ul>
<li><a href="#org50743ae">6.1. Programming fonts</a></li>
<li><a href="#orgb112ce3">6.2. Project structure</a></li>
<li><a href="#orgda089be">6.3. Functional programming</a></li>
</ul>
</li>
<li><a href="#org33343c5">7. R programming</a>
<ul>
<li><a href="#org7f3e9f9">7.1. Write better R</a></li>
<li><a href="#org24ccf62">7.2. R programming</a></li>
<li><a href="#org347126a">7.3. RStudio</a></li>
<li><a href="#org9155c7a">7.4. Emacs Speaks Statistics</a></li>
</ul>
</li>
<li><a href="#org0626b69">8. Stan programming</a>
<ul>
<li><a href="#orgeccc86b">8.1. Stan</a></li>
</ul>
</li>
<li><a href="#orgaf32ce2">9. Data science</a>
<ul>
<li><a href="#org595194d">9.1. Data backup</a></li>
<li><a href="#org04d95f8">9.2. Data processing</a></li>
<li><a href="#org18fe4dd">9.3. A typical workflow</a></li>
<li><a href="#orgd983c35">9.4. Data visualization</a></li>
<li><a href="#org1935a4a">9.5. High power computing</a></li>
<li><a href="#org5716275">9.6. Naming convention</a></li>
</ul>
</li>
<li><a href="#org725462c">10. Statistics</a>
<ul>
<li><a href="#orgfc7f475">10.1. Statistics</a></li>
<li><a href="#orge8f6c4c">10.2. Gaussian processes</a></li>
</ul>
</li>
<li><a href="#org0055948">11. Mathematics</a>
<ul>
<li><a href="#org0690b24">11.1. Math</a></li>
</ul>
</li>
<li><a href="#orga1971c6">12. Science</a>
<ul>
<li><a href="#org48058e9">12.1. Scientific communication</a></li>
<li><a href="#orgdd7f6db">12.2. Scientific programming</a></li>
<li><a href="#org04bb745">12.3. Research project</a></li>
<li><a href="#orge4556cf">12.4. Scientific writing</a></li>
<li><a href="#org19ee169">12.5. Numerical computing</a></li>
</ul>
</li>
</ul>
</div>
</div>
<p>
Tips &amp; tricks
</p>

<p>
My ultimate gotcha personal collection
</p>

<p>
Stuff I keep forgetting and I need to think about, decide on, or
search for too often
</p>

<div id="outline-container-orgac7051d" class="outline-2">
<h2 id="orgac7051d"><span class="section-number-2">1.</span> Motivation</h2>
<div class="outline-text-2" id="text-1">
<blockquote>
<p>
This is the way (The Mandalorian)
</p>
</blockquote>

<blockquote>
<p>
A power user might not have extensive technical knowledge of the
systems they use but is rather characterized by competence or desire
to make the most intensive use of computer programs or systems (<a href="https://en.wikipedia.org/wiki/Power_user">Wikipedia</a>)
</p>
</blockquote>
</div>
</div>

<div id="outline-container-org08d60e8" class="outline-2">
<h2 id="org08d60e8"><span class="section-number-2">2.</span> Linux</h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-org456afe5" class="outline-3">
<h3 id="org456afe5"><span class="section-number-3">2.1.</span> Arch Linux</h3>
<div class="outline-text-3" id="text-2-1">
</div>
<div id="outline-container-org9f2c145" class="outline-4">
<h4 id="org9f2c145"><span class="section-number-4">2.1.1.</span> How to update pacman mirrors?</h4>
<div class="outline-text-4" id="text-2-1-1">
<div class="org-src-container">
<pre class="src src-shell"><span style="color: #0000ff;"># </span><span style="color: #0000ff;">https://github.com/westandskif/rate-mirrors#usage</span>
<span style="color: brightred;">export</span> <span style="color: brightwhite; font-weight: bold;">TMPFILE</span>=<span style="color: #ffff00;">"$(</span><span style="font-weight: bold;">mktemp</span><span style="color: #ffff00;">)"</span>; <span style="color: #ffff00;">\</span>
    sudo true; <span style="color: #ffff00;">\</span>
    rate-mirrors --save=$<span style="color: brightwhite; font-weight: bold;">TMPFILE</span> arch --max-delay=21600 <span style="color: #ffff00;">\</span>
        &amp;&amp; sudo mv /etc/pacman.d/mirrorlist /etc/pacman.d/mirrorlist-backup <span style="color: #ffff00;">\</span>
        &amp;&amp; sudo mv $<span style="color: brightwhite; font-weight: bold;">TMPFILE</span> /etc/pacman.d/mirrorlist
</pre>
</div>

<ul class="org-ul">
<li><a href="https://archlinux.org/mirrorlist/">Pacman Mirrorlist Generator</a></li>
<li><a href="https://wiki.archlinux.org/title/reflector">Reflector</a>: retrieve, filter, sort by speed, and overwrite mirror list</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org67323ff" class="outline-3">
<h3 id="org67323ff"><span class="section-number-3">2.2.</span> Bash</h3>
<div class="outline-text-3" id="text-2-2">
<ul class="org-ul">
<li><a href="https://devhints.io/bash">Bash scripting cheatsheet</a></li>
<li><a href="https://tldp.org/LDP/abs/html/">Advanced Bash-Scripting Guide</a>: an in-depth exploration of the art
of shell scripting</li>
<li><a href="https://github.com/dylanaraps/pure-bash-bible">pure bash bible</a>: a collection of pure bash alternatives to
external processes</li>
<li><a href="https://mywiki.wooledge.org/BashFAQ">BashFAQ</a>: do <b>not</b> sleep on this, it's a gold mine</li>
</ul>
</div>

<div id="outline-container-orge138a18" class="outline-4">
<h4 id="orge138a18"><span class="section-number-4">2.2.1.</span> How to execute a loop conditionally (dry runs)</h4>
<div class="outline-text-4" id="text-2-2-1">
<div class="org-src-container">
<pre class="src src-shell"><span style="color: #0000ff;">#</span><span style="color: #0000ff;">!/bin/</span><span style="color: #ff00ff; font-weight: bold;">bash</span>
<span style="color: brightwhite; font-weight: bold;">doit</span>=0

<span style="color: #ff00ff; font-weight: bold;">for</span> i<span style="color: #ff00ff; font-weight: bold;"> in</span> {1..3}; <span style="color: #ff00ff; font-weight: bold;">do</span>
    <span style="color: brightred;">echo</span> -n ${<span style="color: brightwhite; font-weight: bold;">i</span>}
<span style="color: #ff00ff; font-weight: bold;">done</span>

<span style="color: brightred;">echo</span> <span style="color: #ffff00;">"---"</span>

<span style="color: #ff00ff; font-weight: bold;">for</span> i<span style="color: #ff00ff; font-weight: bold;"> in</span> {1..3}; <span style="color: #ff00ff; font-weight: bold;">do</span>
    ((doit))&amp;&amp;(<span style="color: brightred;">echo</span> -n ${<span style="color: brightwhite; font-weight: bold;">i</span>})
<span style="color: #ff00ff; font-weight: bold;">done</span>

<span style="color: brightred;">echo</span> <span style="color: #ffff00;">"---"</span>

<span style="color: #ff00ff; font-weight: bold;">for</span> i<span style="color: #ff00ff; font-weight: bold;"> in</span> {1..3}; <span style="color: #ff00ff; font-weight: bold;">do</span>
    ((doit))&amp;&amp;<span style="color: brightred;">echo</span> -n ${<span style="color: brightwhite; font-weight: bold;">i</span>}
<span style="color: #ff00ff; font-weight: bold;">done</span>

<span style="color: brightred;">echo</span> <span style="color: #ffff00;">"---"</span>

((doit))&amp;&amp;<span style="color: #ff00ff; font-weight: bold;">for</span> i<span style="color: #ff00ff; font-weight: bold;"> in</span> {1..3}; <span style="color: #ff00ff; font-weight: bold;">do</span>
    <span style="color: brightred;">echo</span> -n ${<span style="color: brightwhite; font-weight: bold;">i</span>}
<span style="color: #ff00ff; font-weight: bold;">done</span>

<span style="color: brightred;">echo</span> <span style="color: #ffff00;">"---"</span>

((doit))&amp;&amp;
    <span style="color: #ff00ff; font-weight: bold;">for</span> i<span style="color: #ff00ff; font-weight: bold;"> in</span> {1..3}; <span style="color: #ff00ff; font-weight: bold;">do</span>
        <span style="color: brightred;">echo</span> -n ${<span style="color: brightwhite; font-weight: bold;">i</span>}
    <span style="color: #ff00ff; font-weight: bold;">done</span>

<span style="color: brightred;">echo</span> <span style="color: #ffff00;">"---"</span>
</pre>
</div>

<p>
Also <code>((dontdoit))!!echo "something"</code>
</p>
</div>
</div>

<div id="outline-container-org7725158" class="outline-4">
<h4 id="org7725158"><span class="section-number-4">2.2.2.</span> How to open the N most recently modified files?</h4>
<div class="outline-text-4" id="text-2-2-2">
<pre class="example">
emacs $(/bin/ls */* --sort=time | tail -n 5)
</pre>
</div>
</div>
</div>
<div id="outline-container-org6a4eb08" class="outline-3">
<h3 id="org6a4eb08"><span class="section-number-3">2.3.</span> Linux</h3>
<div class="outline-text-3" id="text-2-3">
</div>
<div id="outline-container-orgcf11f71" class="outline-4">
<h4 id="orgcf11f71"><span class="section-number-4">2.3.1.</span> How to read a systemd service log for today?</h4>
<div class="outline-text-4" id="text-2-3-1">
<p>
Don't forget to add <code>--user</code> if it's a user service. Also, <code>-b</code> is
short for <code>-b-0</code> (Ghosthree3 at libera.chat)
</p>

<div class="org-src-container">
<pre class="src src-shell">journalctl --user -u servicename -b
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb169b29" class="outline-4">
<h4 id="orgb169b29"><span class="section-number-4">2.3.2.</span> How to clean up space in /boot?</h4>
<div class="outline-text-4" id="text-2-3-2">
<p>
Consider removing the fallback initramfs to make temporary space. A
definite solution is to expand the <i>boot folder. Edit the
linux.preset in /etc/mkinitcpio.d</i> to disable generating a new
fallback image. Helpful when pacman throws <code>Partition /boot too
   full</code>.
</p>

<div class="org-src-container">
<pre class="src src-shell">ls -sh /boot/initramfs-linux-fallback.img
</pre>
</div>
</div>
</div>

<div id="outline-container-org3f99cbd" class="outline-4">
<h4 id="org3f99cbd"><span class="section-number-4">2.3.3.</span> How to determine what shell I am currently working on?</h4>
<div class="outline-text-4" id="text-2-3-3">
<div class="org-src-container">
<pre class="src src-shell">ps -p $<span style="color: brightwhite; font-weight: bold;">$</span>
</pre>
</div>

<p>
Source: <a href="https://stackoverflow.com/a/3327022/2860744">How to determine the current shell I'm working on</a>
</p>
</div>
</div>

<div id="outline-container-org43ab9c7" class="outline-4">
<h4 id="org43ab9c7"><span class="section-number-4">2.3.4.</span> How to find and copy all files that match a regex?</h4>
<div class="outline-text-4" id="text-2-3-4">
<p>
Use <code>rsync --parent</code> to keep the folder structure.
</p>

<div class="org-src-container">
<pre class="src src-shell">find -iname <span style="color: #ffff00;">'*.rds'</span> -exec cp {} <span style="color: brightred;">.</span> <span style="color: #ffff00;">\;</span>
find -iname <span style="color: #ffff00;">'*.rds'</span> -exec rsync --parent {} <span style="color: brightred;">.</span> <span style="color: #ffff00;">\;</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org4605146" class="outline-4">
<h4 id="org4605146"><span class="section-number-4">2.3.5.</span> How to list all files whose content match a regex?</h4>
<div class="outline-text-4" id="text-2-3-5">
<div class="org-src-container">
<pre class="src src-shell">find . -exec grep optimHess {} +
</pre>
</div>
</div>
</div>

<div id="outline-container-org935a302" class="outline-4">
<h4 id="org935a302"><span class="section-number-4">2.3.6.</span> How to list memory used by processes in remote cluster?</h4>
<div class="outline-text-4" id="text-2-3-6">
<div class="org-src-container">
<pre class="src src-shell"><span style="color: #0000ff;">#</span><span style="color: #0000ff;">!/bin/</span><span style="color: #ff00ff; font-weight: bold;">sh</span>
squeue --me -o <span style="color: #ffff00;">"%R"</span> |
    <span style="color: #ff00ff; font-weight: bold;">while </span><span style="color: brightred;">read</span> -r host; <span style="color: #ff00ff; font-weight: bold;">do</span>
        ssh -n
        <span style="color: #ffff00;">"$host"</span> <span style="color: #ffff00;">"ps -o pid,user,%mem,rss,size,%cpu,command ax | grep \"r-4\""</span>;
    <span style="color: #ff00ff; font-weight: bold;">done</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org7d64dc3" class="outline-4">
<h4 id="org7d64dc3"><span class="section-number-4">2.3.7.</span> What is the keycode of this key?</h4>
<div class="outline-text-4" id="text-2-3-7">
<p>
Use <code>xev</code> to look for the keycode and keysym in the KeyPress or
KeyRelease event
</p>
</div>
</div>

<div id="outline-container-org0dd0733" class="outline-4">
<h4 id="org0dd0733"><span class="section-number-4">2.3.8.</span> How to find the window dimension and position?</h4>
<div class="outline-text-4" id="text-2-3-8">
<p>
Run <code>xwininfo</code> on a console and click on the target window.
</p>
</div>
</div>

<div id="outline-container-org89ae760" class="outline-4">
<h4 id="org89ae760"><span class="section-number-4">2.3.9.</span> How to convert a pdf to png?</h4>
<div class="outline-text-4" id="text-2-3-9">
<p>
1920 (1080p) is often a good size
</p>

<div class="org-src-container">
<pre class="src src-shell"><span style="color: #0000ff;"># </span><span style="color: #FF0000;">TODO</span>
</pre>
</div>

<p>
Source: <a href="https://unix.stackexchange.com/questions/121293/convert-every-pdf-in-the-current-directory-to-png">Convert every pdf in the current directory to png</a>
</p>
</div>
</div>

<div id="outline-container-org18cd5ad" class="outline-4">
<h4 id="org18cd5ad"><span class="section-number-4">2.3.10.</span> How to switch keyboard layout to type Greek letters?</h4>
<div class="outline-text-4" id="text-2-3-10">
<p>
To switch between US and Greek (polytonic) keyboard layouts using
Alt + Caps Locks. Add to <code>~/.xinitrc</code>, or possibly
<code>~/.config/i3/config</code>, to make it persistent.
</p>

<div class="org-src-container">
<pre class="src src-shell">setxkbmap <span style="color: #ffff00;">'us,gr'</span> -variant <span style="color: #ffff00;">',polytonic'</span> -option grp:<span style="color: #ffff00;">'alt_caps_toggle'</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org06c1e85" class="outline-4">
<h4 id="org06c1e85"><span class="section-number-4">2.3.11.</span> What are the keyboard layout switching keys?</h4>
<div class="outline-text-4" id="text-2-3-11">
<ul class="org-ul">
<li>To list them all <code>man xkeyboard-config</code> <a href="https://unix.stackexchange.com/a/45499/88701">Other than Alt + Shift to
switch keyboard layout, any other Xorg key</a></li>
<li>To list the toggle keys only
<code>grep "grp:.*toggle" /usr/share/X11/xkb/rules/base.lst</code>
<a href="https://wiki.archlinux.org/title/Xorg/Keyboard_configuration#Switching_between_keyboard_layouts">Xorg/Keyboard configuration</a></li>
</ul>
</div>
</div>

<div id="outline-container-org1e20331" class="outline-4">
<h4 id="org1e20331"><span class="section-number-4">2.3.12.</span> How to type math symbols, ascii emoji easily?</h4>
<div class="outline-text-4" id="text-2-3-12">
<p>
Use a Compose key. Here's my .XCompose, below there are many more
</p>

<ul class="org-ul">
<li><a href="https://wiki.archlinux.org/title/Xorg/Keyboard_configuration#Configuring_compose_key">Xorg/Keyboard configuration - ArchWiki</a></li>
<li><a href="https://github.com/exaexa/xcompose/blob/master/.XCompose">xcompose/.XCompose at master · exaexa/xcompose · GitHub</a></li>
<li><a href="https://github.com/svinota/XCompose/blob/master/.XCompose">XCompose/.XCompose at master · svinota/XCompose · GitHub</a></li>
<li><a href="https://github.com/nshepperd/xcompose/blob/master/math.conf">xcompose/math.conf at master · nshepperd/xcompose · GitHub</a></li>
<li><a href="https://github.com/nshepperd/xcompose/blob/master/superscripts.conf">xcompose/superscripts.conf at master · nshepperd/xcompose · GitHub</a></li>
<li><a href="https://github.com/Wafelack/dotfiles/blob/master/X/.XCompose">dotfiles/.XCompose at master · Wafelack/dotfiles · GitHub</a></li>
</ul>
</div>
</div>

<div id="outline-container-org190b039" class="outline-4">
<h4 id="org190b039"><span class="section-number-4">2.3.13.</span> How to set a compose key (<code>Multi_key</code>)?</h4>
<div class="outline-text-4" id="text-2-3-13">
<ul class="org-ul">
<li>To list all compose key options
<code>grep "compose:" /usr/share/X11/xkb/rules/base.lst</code></li>
<li>To set a compose key
<code>setxkbmap -option compose:rctrl</code></li>
<li><a href="https://wiki.archlinux.org/title/Xorg/Keyboard_configuration#Configuring_compose_key">Xorg/Keyboard configuration - ArchWiki</a></li>
</ul>
</div>
</div>

<div id="outline-container-org362fd11" class="outline-4">
<h4 id="org362fd11"><span class="section-number-4">2.3.14.</span> How to connect OBS to Zoom or Webex?</h4>
<div class="outline-text-4" id="text-2-3-14">
<p>
To redirect video from OBS to a new virtual camera input
</p>
<ul class="org-ul">
<li>Install the linux headers if you don't have them, e.g,
<code>sudo pacman -S linux-headers</code></li>
<li>Install <code>v4l2loopback-dkms</code>, e.g., <code>sudo pacman -S
     v4l2loopback-dkms</code></li>
<li>Load the kernel module <code>sudo modprobe v4l2loopback</code></li>
<li>Select <code>Dummy video device</code> as video source in the meeting app,
e.g., in Zoom Settings &gt; Video &gt; Camera</li>
<li>Source: <a href="https://wiki.archlinux.org/title/Open_Broadcaster_Software#Virtual_camera_output">Open Broadcaster Software - ArchWiki</a></li>
</ul>

<p>
To redirect audio from OBS to a new virtual sound input
</p>
<ul class="org-ul">
<li><p>
Create a null output device
</p>
<div class="org-src-container">
<pre class="src src-shell"><span style="color: brightwhite; font-weight: bold;">pulsemodule</span>=$(<span style="font-weight: bold;">pactl load-module module-null-sink sink_name=obs_audio</span>
              <span style="color: brightwhite; font-weight: bold;">sink_properties</span>=device.description=obs_audio_sink_for_mic)
</pre>
</div></li>
<li>In <code>pavucontrol</code>, Playback tab, change the output of
<code>OBS-monitor</code> to <code>Null output</code></li>
<li>In <code>pavucontrol</code>, Recording tab, change the input of <code>Zoom</code> to
<code>Null output</code></li>
<li>Source:
<ul class="org-ul">
<li>MacGyver at libera.chat,</li>
<li><a href="https://wiki.archlinux.org/title/PulseAudio/Examples#Monitor_specific_output">PulseAudio/Examples - ArchWiki</a></li>
<li><a href="https://unix.stackexchange.com/a/604082/88701">Redirecting Pulseaudio sink to a virtual source</a></li>
</ul></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org07fa98b" class="outline-3">
<h3 id="org07fa98b"><span class="section-number-3">2.4.</span> Math typing</h3>
<div class="outline-text-3" id="text-2-4">
</div>
<div id="outline-container-org8e25365" class="outline-4">
<h4 id="org8e25365"><span class="section-number-4">2.4.1.</span> Math keyboard layout with UTF-8 support</h4>
<div class="outline-text-4" id="text-2-4-1">
<ul class="org-ul">
<li>Fork and change <a href="https://github.com/SV-97/Math-Layout/blob/master/gm">https://github.com/SV-97/Math-Layout/blob/master/gm</a></li>
</ul>
</div>
</div>

<div id="outline-container-org6aabb6f" class="outline-4">
<h4 id="org6aabb6f"><span class="section-number-4">2.4.2.</span> Compose key for mathematics</h4>
<div class="outline-text-4" id="text-2-4-2">
<ul class="org-ul">
<li>Type an equation in UTF8?</li>
</ul>
</div>
</div>
</div>
</div>

<div id="outline-container-org114be06" class="outline-2">
<h2 id="org114be06"><span class="section-number-2">3.</span> Utilities</h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-org6290c62" class="outline-3">
<h3 id="org6290c62"><span class="section-number-3">3.1.</span> Git</h3>
<div class="outline-text-3" id="text-3-1">
</div>
<div id="outline-container-org5567442" class="outline-4">
<h4 id="org5567442"><span class="section-number-4">3.1.1.</span> What on earth is git?</h4>
<div class="outline-text-4" id="text-3-1-1">
<blockquote>
<p>
[&#x2026;] at the core of Git is a simple key-value data store [..,] you
can insert any kind of content into a Git repository, for which Git
will hand you back a unique key you can use later to retrieve that
content.
</p>
</blockquote>

<p>
Source: <a href="https://git-scm.com/book/en/v2/Git-Internals-Git-Objects">Git - Git Objects</a>
</p>
</div>
</div>

<div id="outline-container-org3fa74b1" class="outline-4">
<h4 id="org3fa74b1"><span class="section-number-4">3.1.2.</span> How to rename a branch?</h4>
<div class="outline-text-4" id="text-3-1-2">
<pre class="example" id="org0a694fc">
git branch -m newname
</pre>
</div>
</div>

<div id="outline-container-org5bfc5ae" class="outline-4">
<h4 id="org5bfc5ae"><span class="section-number-4">3.1.3.</span> What to do with a branch after merging?</h4>
<div class="outline-text-4" id="text-3-1-3">
<p>
After the merge, it's safe to delete the branch
</p>

<div class="org-src-container">
<pre class="src src-shell">git branch -d branch1
</pre>
</div>

<p>
Source: <a href="https://stackoverflow.com/a/14005910/2860744">what to do with branch after merge?</a>
</p>
</div>
</div>

<div id="outline-container-org0595483" class="outline-4">
<h4 id="org0595483"><span class="section-number-4">3.1.4.</span> How to list unmodified files?</h4>
<div class="outline-text-4" id="text-3-1-4">
<div class="org-src-container">
<pre class="src src-shell">diff &lt;(git diff --name-only)  &lt;(git ls-files -- sub/dir) | grep <span style="color: #ffff00;">"^&gt;"</span> | cut -b3-
</pre>
</div>

<p>
Source: <a href="https://stackoverflow.com/a/55419932/2860744">is there any way to list the unmodified files in Git?</a>
</p>
</div>
</div>

<div id="outline-container-orga6f4409" class="outline-4">
<h4 id="orga6f4409"><span class="section-number-4">3.1.5.</span> How to clean a git repo?</h4>
<div class="outline-text-4" id="text-3-1-5">
<div class="org-src-container">
<pre class="src src-shell">git clean -d -x -f
</pre>
</div>

<p>
Source: <a href="https://stackoverflow.com/a/675797/2860744">how do I clear my local working directory in git?</a>
</p>
</div>
</div>

<div id="outline-container-org35f0918" class="outline-4">
<h4 id="org35f0918"><span class="section-number-4">3.1.6.</span> How to change a git repo remote from https to ssh?</h4>
<div class="outline-text-4" id="text-3-1-6">
<div class="org-src-container">
<pre class="src src-shell">git remote -v
git remote set-url origin git@server:repo.git
git remote -v
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd4e9380" class="outline-4">
<h4 id="orgd4e9380"><span class="section-number-4">3.1.7.</span> How to clean a .git folder that is too large?</h4>
<div class="outline-text-4" id="text-3-1-7">
<p>
Call the garbage collector
</p>

<div class="org-src-container">
<pre class="src src-shell">git gc
</pre>
</div>

<p>
For binary files that change often
</p>

<div class="org-src-container">
<pre class="src src-shell">git repack -a -d --depth=250 --window=250
</pre>
</div>

<p>
Source: <a href="https://stackoverflow.com/a/8483112/2860744">how to shrink the .git folder?</a>
</p>
</div>
</div>

<div id="outline-container-org34d0820" class="outline-4">
<h4 id="org34d0820"><span class="section-number-4">3.1.8.</span> How to stash files that were deleted from disk?</h4>
<div class="outline-text-4" id="text-3-1-8">
<div class="org-src-container">
<pre class="src src-shell">git commit -a
</pre>
</div>

<p>
Source: <a href="https://git-scm.com/docs/git-rm#_using_git_commit_a">using git commit -a</a>
</p>

<div class="org-src-container">
<pre class="src src-shell">git ls-files --deleted -z | xargs -r0 git rm
</pre>
</div>

<p>
Source: <a href="https://stackoverflow.com/a/63511405/2860744">staging deleted files</a>
</p>
</div>
</div>

<div id="outline-container-orgd569063" class="outline-4">
<h4 id="orgd569063"><span class="section-number-4">3.1.9.</span> How to revert file removal from git repo?</h4>
<div class="outline-text-4" id="text-3-1-9">
<p>
To revert all changes since last commit
</p>

<div class="org-src-container">
<pre class="src src-shell">git reset --hard HEAD
</pre>
</div>

<p>
To revert some changes
</p>

<div class="org-src-container">
<pre class="src src-shell">git reset
git checkout &lt;file-name&gt;
</pre>
</div>

<p>
Source: <a href="https://www.w3docs.com/snippets/git/how-to-revert-git-rm-r.html">how to revert git rm -r</a>
</p>
</div>
</div>
</div>
<div id="outline-container-org3a5387b" class="outline-3">
<h3 id="org3a5387b"><span class="section-number-3">3.2.</span> SSH</h3>
<div class="outline-text-3" id="text-3-2">
</div>
<div id="outline-container-org1109873" class="outline-4">
<h4 id="org1109873"><span class="section-number-4">3.2.1.</span> How to generate a new SSH key?</h4>
<div class="outline-text-4" id="text-3-2-1">
<p>
The path to the key has to be unique. Requires <code>x-clip</code>.
</p>

<div class="org-src-container">
<pre class="src src-shell"><span style="color: #0000ff;"># </span><span style="color: #0000ff;">Generate a new key</span>
ssh-keygen -t ed25519 -C <span style="color: #ffff00;">"your_email@example.com"</span>
<span style="color: #0000ff;"># </span><span style="color: #0000ff;">Add key to the ssh-agent in your local machine</span>
<span style="color: brightred;">eval</span> <span style="color: #ffff00;">"$(</span><span style="font-weight: bold;">ssh-agent -s</span><span style="color: #ffff00;">)"</span>
ssh-add ~/.ssh/id_ed25519
<span style="color: #0000ff;"># </span><span style="color: #0000ff;">Copy key to clipboard</span>
xclip -selection clipboard &lt; ~/.ssh/id_ed25519.pub
</pre>
</div>
</div>
</div>

<div id="outline-container-org04b2728" class="outline-4">
<h4 id="org04b2728"><span class="section-number-4">3.2.2.</span> How to avoid logging in remotely many times?</h4>
<div class="outline-text-4" id="text-3-2-2">
<p>
Use <code>ControlMaster</code> in <code>.ssh/config</code>
</p>

<pre class="example">
ControlMaster auto
ControlPath ~/.ssh/%r@%h:%p
</pre>
</div>
</div>

<div id="outline-container-org007583f" class="outline-4">
<h4 id="org007583f"><span class="section-number-4">3.2.3.</span> How to avoid typing remote addresses and ports?</h4>
<div class="outline-text-4" id="text-3-2-3">
<p>
Configure the host in <code>.ssh/config</code> once and do <code>ssh shortname</code>
</p>

<pre class="example">
Host shortname
User username
HostName hostname
Port 22
ServerAliveInterval 60
</pre>
</div>
</div>

<div id="outline-container-org5844308" class="outline-4">
<h4 id="org5844308"><span class="section-number-4">3.2.4.</span> Quality of life improvements</h4>
<div class="outline-text-4" id="text-3-2-4">
<ul class="org-ul">
<li><code>ssh/config</code> preconfigurations for shortening the ssh and sshfs
invocations (see <a href="https://www.man7.org/linux/man-pages/man5/ssh_config.5.html">ssh_config</a>)</li>
<li>autosf</li>
<li>lazy mount for sshfs via systemd</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-orge994945" class="outline-3">
<h3 id="orge994945"><span class="section-number-3">3.3.</span> Regular expressions</h3>
<div class="outline-text-3" id="text-3-3">
<p>
Gotta love them!
</p>
</div>

<div id="outline-container-org5736d63" class="outline-4">
<h4 id="org5736d63"><span class="section-number-4">3.3.1.</span> How to match a keyword except when used as a tag?</h4>
<div class="outline-text-4" id="text-3-3-1">
<p>
To match <code>foo</code> in any conex except when enclosed by brackets
<code>{foo}</code>, use negative lookarounds but be careful to match <code>{foo</code>
and <code>foo}</code>. Alternatively, use PCRE with <code>(*SKIP)(*F)|}</code>
(OnlineCop at libera.chat). Other use cases for this pattern:
exclude foo in comment lines (<code>#foo</code>, <code>//foo</code>, <code>/*foo*/</code>),
quotes (<code>"foo"</code>, <code>'foo'</code>).
</p>

<div class="org-src-container">
<pre class="src src-shell">grep <span style="color: #ffff00;">"(?&lt;!\{)foo(?!\})"</span>
grep -P <span style="color: #ffff00;">"\{foo\}(*SKIP)(*F)|foo"</span>
</pre>
</div>

<p>
Source:
</p>
<ul class="org-ul">
<li><a href="https://regex101.com/r/9j9BVZ/1">https://regex101.com/r/9j9BVZ/1</a></li>
<li><a href="https://regex101.com/r/gP0oMS/1">https://regex101.com/r/gP0oMS/1</a></li>
</ul>
</div>
</div>

<div id="outline-container-org55a4bbe" class="outline-4">
<h4 id="org55a4bbe"><span class="section-number-4">3.3.2.</span> How to match all R dependencies?</h4>
<div class="outline-text-4" id="text-3-3-2">
<div class="org-src-container">
<pre class="src src-shell">grep -Poh -r <span style="color: #ffff00;">"(\w+)::|(?:library|require|requireNamespace)\(\"?(\w+)\"?\)"</span> --include=<span style="color: #ffff00;">"*\.R"</span> | uniq -d -c | sort
</pre>
</div>
</div>
</div>

<div id="outline-container-orgeb9c3ef" class="outline-4">
<h4 id="orgeb9c3ef"><span class="section-number-4">3.3.3.</span> How to match a custom file separator?</h4>
<div class="outline-text-4" id="text-3-3-3">
<p>
I typically separate my file in labeled sections using this
pattern: comment separator (one or more), space, label (can include
space), space, at least four dash lines but typically enough to
fill the column space. This can be matched with <code>\S+\s(.+?)\s-{4,}</code>
</p>

<pre class="example">
;; Speed bar -------------------------------------------------------------------

%% Introduction ----------------------------------------------------------------

## Read data -------------------------------------------------------------------
</pre>
</div>
</div>

<div id="outline-container-org3b69dc9" class="outline-4">
<h4 id="org3b69dc9"><span class="section-number-4">3.3.4.</span> How to match any number with decimals up to 10?</h4>
<div class="outline-text-4" id="text-3-3-4">
<pre class="example">
^(?:\d|\d?\.\d+|10(?:\.0+)?)$
</pre>

<p>
Source: <a href="https://regex101.com/r/kk8SIF/1/">https://regex101.com/r/kk8SIF/1/</a>
</p>
</div>
</div>

<div id="outline-container-org7f9e3af" class="outline-4">
<h4 id="org7f9e3af"><span class="section-number-4">3.3.5.</span> How to generate a string that matches a regular expression?</h4>
<div class="outline-text-4" id="text-3-3-5">
<p>
A <i>regex to string</i> kind of situation.
</p>

<ul class="org-ul">
<li><a href="https://onlinestringtools.com/generate-string-from-regex">onlinestringtools</a>: string from regex generator</li>
</ul>
</div>
</div>

<div id="outline-container-orgcf17824" class="outline-4">
<h4 id="orgcf17824"><span class="section-number-4">3.3.6.</span> General resources</h4>
<div class="outline-text-4" id="text-3-3-6">
<ul class="org-ul">
<li><a href="https://docs.microsoft.com/en-us/dotnet/standard/base-types/best-practices">Best practices for regular expressions</a></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org3f691f7" class="outline-3">
<h3 id="org3f691f7"><span class="section-number-3">3.4.</span> PDF processing</h3>
<div class="outline-text-3" id="text-3-4">
<ul class="org-ul">
<li><a href="https://github.com/tesseract-ocr/tesseract">Tesseract OCR</a>: neural net (LSTM) based OCR engine</li>
<li>Use <a href="https://www.xpdfreader.com/pdftotext-man.html">pdftotext</a> instead of copying directly from a PDF</li>
<li>Use <a href="https://wiki.archlinux.org/index.php/Ocrdesktop">OCRdesktop</a> to grab content from a screen as text</li>
<li><a href="https://filingdb.com/b/pdf-text-extraction">What's so hard about PDF text extraction?</a></li>
<li><a href="https://www.emacswiki.org/emacs/DeletingWhitespace">Deleting whitespaces</a></li>
</ul>
</div>
</div>
<div id="outline-container-orgef5fd5e" class="outline-3">
<h3 id="orgef5fd5e"><span class="section-number-3">3.5.</span> Hugo</h3>
<div class="outline-text-3" id="text-3-5">
</div>
<div id="outline-container-org0aa00eb" class="outline-4">
<h4 id="org0aa00eb"><span class="section-number-4">3.5.1.</span> How to set <code>target=_blank</code> for all external links?</h4>
<div class="outline-text-4" id="text-3-5-1">
<div class="org-src-container">
<pre class="src src-shell">mkdir -p layouts/_default/_markup/render-link.html
<span style="color: brightred;">echo</span> <span style="color: #ffff00;">'&lt;a href="{{ .Destination | safeURL }}"{{ with .Title}} title="{{ . }}"{{ end }}{{ if strings.HasPrefix .Destination "http" }} target="_blank"{{ end }}&gt;{{ .Text }}&lt;/a&gt;'</span> &gt; layouts/_default/_markup/render-link.html
</pre>
</div>

<p>
Source: <a href="https://agrimprasad.com/post/hugo-goldmark-markdown/">How to Open Link in New Tab with Hugo's new Goldmark Markdown Renderer</a>
</p>
</div>
</div>

<div id="outline-container-orgf4ddd3d" class="outline-4">
<h4 id="orgf4ddd3d"><span class="section-number-4">3.5.2.</span> How to set the home page to other content?</h4>
<div class="outline-text-4" id="text-3-5-2">
<p>
Show <code>contentname</code> as landing or home page
</p>

<div class="org-src-container">
<pre class="src src-shell">mkdir -p layouts
<span style="color: brightred;">echo</span> <span style="color: #ffff00;">'{{ with .GetPage "/contentname" }}{{.Render}}{{end}}'</span> &gt; layouts/index.html
</pre>
</div>

<p>
Source: <a href="https://discourse.gohugo.io/t/i-want-to-redirect-my-homepage-to-a-content-page/16318/5">I want to redirect my Homepage to a content page</a>
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-org50eaa6d" class="outline-2">
<h2 id="org50eaa6d"><span class="section-number-2">4.</span> Typesetting</h2>
<div class="outline-text-2" id="text-4">
</div>
<div id="outline-container-org05eecaf" class="outline-3">
<h3 id="org05eecaf"><span class="section-number-3">4.1.</span> (La)TeX</h3>
<div class="outline-text-3" id="text-4-1">
</div>
<div id="outline-container-org0c5eaa6" class="outline-4">
<h4 id="org0c5eaa6"><span class="section-number-4">4.1.1.</span> How to write better LaTeX?&#xa0;&#xa0;&#xa0;<span class="tag"><span class="guidelines">guidelines</span></span></h4>
<div class="outline-text-4" id="text-4-1-1">
<ul class="org-ul">
<li><a href="https://texfaq.org/">TeX FAQ</a>: The TeX Frequently Asked Question List</li>
<li><a href="https://www.ctan.org/pkg/nag">nug</a>: Package that warns the user about the use of obsolete things</li>
<li><a href="https://www.ctan.org/pkg/l2tabu-english">l2tabu</a>: Practical usage guide with mistakes, obsolete packages and
commands</li>
</ul>
</div>
</div>

<div id="outline-container-org9dd6e2c" class="outline-4">
<h4 id="org9dd6e2c"><span class="section-number-4">4.1.2.</span> How to avoid orphan words?</h4>
<div class="outline-text-4" id="text-4-1-2">
<p>
Sometimes, we have one or two words hanging on the last line of a
paragraph.
</p>

<ul class="org-ul">
<li>Add <code>\looseness=-1</code> immediately before the paragraph (<a href="https://tex.stackexchange.com/a/204087/225233">source</a>)</li>
<li>Adjust <code>badness</code> limits</li>
<li><code>\parfillskip</code> controls the length at the end of a paragraph</li>
</ul>
</div>
</div>

<div id="outline-container-orgd1bb346" class="outline-4">
<h4 id="orgd1bb346"><span class="section-number-4">4.1.3.</span> When should I use non-breaking space (tilde)?</h4>
<div class="outline-text-4" id="text-4-1-3">
<ul class="org-ul">
<li><a href="https://tex.stackexchange.com/a/15555/225233">When should I use non-breaking space?</a></li>
<li><a href="https://tex.stackexchange.com/a/1797/225233">What is the right way to use of non-breakable space before math expressions?</a></li>
</ul>
</div>
</div>

<div id="outline-container-org8917844" class="outline-4">
<h4 id="org8917844"><span class="section-number-4">4.1.4.</span> How to write an unnumbered footnote?</h4>
<div class="outline-text-4" id="text-4-1-4">
<ul class="org-ul">
<li><a href="https://tex.stackexchange.com/a/170512/225233">Footnotes without numbering</a></li>
</ul>
</div>
</div>

<div id="outline-container-orge88a678" class="outline-4">
<h4 id="orge88a678"><span class="section-number-4">4.1.5.</span> How to type a differential operator <code>dx</code>?</h4>
<div class="outline-text-4" id="text-4-1-5">
<p>
Use upright <code>d</code> followed by math <code>x</code>, and possibly add a space <code>\,</code>
before the differential operator
</p>

<div class="org-src-container">
<pre class="src src-latex"><span style="color: #ff00ff; font-weight: bold;">\begin</span><span style="color: brightwhite;">{</span><span style="color: #00ff00; font-weight: bold;">equation</span><span style="color: brightwhite;">}</span>
<span style="color: #ffff00;">  </span><span style="color: #ffff00;">\int</span><span style="color: #6b8e23;">_</span><span style="color: #ffff00;">0</span><span style="color: #6b8e23;">^</span><span style="color: #ffff00;">1 x</span><span style="color: #6b8e23;">^</span><span style="color: #ffff00;">2 \, </span><span style="color: #ffff00;">\mathrm</span><span style="color: brightwhite;">{</span><span style="color: #ffff00;">d</span><span style="color: brightwhite;">}</span><span style="color: #ffff00;">x</span>
<span style="color: #ff00ff; font-weight: bold;">\end</span><span style="color: brightwhite;">{</span><span style="color: #00ff00; font-weight: bold;">equation</span><span style="color: brightwhite;">}</span>
</pre>
</div>

<ul class="org-ul">
<li><a href="https://tex.stackexchange.com/a/60546/225233">Should I \mathrm the d in my integrals?</a></li>
<li><a href="https://tex.stackexchange.com/a/14822/225233">What's the proper way to typeset a differential operator?</a></li>
</ul>
</div>
</div>

<div id="outline-container-orgd156fd6" class="outline-4">
<h4 id="orgd156fd6"><span class="section-number-4">4.1.6.</span> What symbol should I use for &#x2026; ?</h4>
<div class="outline-text-4" id="text-4-1-6">
<ul class="org-ul">
<li><a href="http://www.math.toronto.edu/mathit/symbols-letter.pdf">The Comprehensive LaTeX Symbol List</a></li>
<li><a href="https://oeis.org/wiki/List_of_LaTeX_mathematical_symbols">List of LaTeX mathematical symbols</a>: all predefined mathematical symbols</li>
</ul>
</div>
</div>

<div id="outline-container-orgafc2360" class="outline-4">
<h4 id="orgafc2360"><span class="section-number-4">4.1.7.</span> Symbol lookup</h4>
<div class="outline-text-4" id="text-4-1-7">
<ul class="org-ul">
<li><a href="http://detexify.kirelabs.org/classify.html">Detexify</a>: draw symbol by hand or use the symbol table</li>
</ul>
</div>
</div>

<div id="outline-container-org4b0759f" class="outline-4">
<h4 id="org4b0759f"><span class="section-number-4">4.1.8.</span> How to type the math symbol for definition <code>:=</code>?</h4>
<div class="outline-text-4" id="text-4-1-8">
<p>
Use <code>\coloneqq</code> and <code>\vcoloneqq</code> from the <code>mathtools</code> package.
</p>

<ul class="org-ul">
<li>Source: <a href="https://tex.stackexchange.com/a/194353/225233">Symbol for definition :=</a></li>
</ul>
</div>
</div>

<div id="outline-container-orgdd0249d" class="outline-4">
<h4 id="orgdd0249d"><span class="section-number-4">4.1.9.</span> How to debug the LaTeX document layout, sizes, and spacing?</h4>
<div class="outline-text-4" id="text-4-1-9">
<ul class="org-ul">
<li><a href="https://ctan.math.washington.edu/tex-archive/macros/luatex/generic/lua-visual-debug/">lua-visual-debug</a>: it looks <a href="https://ctan.math.washington.edu/tex-archive/macros/luatex/generic/lua-visual-debug/doc/sample.pdf">gorgeous</a></li>
</ul>
</div>
</div>

<div id="outline-container-orgebebdb4" class="outline-4">
<h4 id="orgebebdb4"><span class="section-number-4">4.1.10.</span> What is the document body ratio?</h4>
<div class="outline-text-4" id="text-4-1-10">
<div class="org-src-container">
<pre class="src src-latex">Body width:  <span style="color: #ffff00;">\the\textwidth</span>
Body height: <span style="color: #ffff00;">\the\textheight</span>
</pre>
</div>

<ul class="org-ul">
<li><a href="https://tex.stackexchange.com/q/253354/225233">How to interpret the page layout in LaTeX using layout package?</a></li>
<li><a href="https://i.stack.imgur.com/kOAM5.png">Page layour visual guide</a></li>
</ul>
</div>
</div>

<div id="outline-container-orgddc6010" class="outline-4">
<h4 id="orgddc6010"><span class="section-number-4">4.1.11.</span> How to reduce spacing around figures, tables, captions?</h4>
<div class="outline-text-4" id="text-4-1-11">
<ul class="org-ul">
<li>\textfloatsep — distance between floats on the top or the bottom and the text;</li>
<li>\floatsep — distance between two floats;</li>
<li>\intextsep — distance between floats inserted inside the page text</li>
<li>(using h) and the text proper.</li>
<li>\dbltextfloatsep — distance between a float spanning both columns and the text;</li>
<li>\dblfloatsep — distance between two floats spanning both columns.</li>
<li><p>
\captionsetup{font=footnotesize}
</p>

<div class="org-src-container">
<pre class="src src-latex"><span style="color: #0000ff;">% </span><span style="color: #0000ff;">Reduced margins</span>
<span style="color: #ff00ff; font-weight: bold;">\usepackage</span><span style="color: brightwhite;">{</span><span style="color: #00ff00; font-weight: bold;">geometry</span><span style="color: brightwhite;">}</span>
<span style="color: #ffff00;">\geometry</span><span style="color: brightwhite;">{</span>left=0.75in,right=0.75in,bottom=1in,top=1in<span style="color: brightwhite;">}</span>

<span style="color: #0000ff;">% </span><span style="color: #0000ff;">Minimal spacing around captions and floats</span>
<span style="color: #ff00ff; font-weight: bold;">\setlength</span><span style="color: brightwhite;">{</span><span style="color: brightwhite; font-weight: bold;">\abovecaptionskip</span><span style="color: brightwhite;">}{</span><span style="color: brightwhite; font-weight: bold;">2pt plus 1pt minus 2pt</span><span style="color: brightwhite;">}</span>
<span style="color: #ff00ff; font-weight: bold;">\setlength</span><span style="color: brightwhite;">{</span><span style="color: brightwhite; font-weight: bold;">\belowcaptionskip</span><span style="color: brightwhite;">}{</span><span style="color: brightwhite; font-weight: bold;">2pt plus 1pt minus 2pt</span><span style="color: brightwhite;">}</span>
<span style="color: #ff00ff; font-weight: bold;">\setlength</span><span style="color: brightwhite;">{</span><span style="color: brightwhite; font-weight: bold;">\textfloatsep</span><span style="color: brightwhite;">}{</span><span style="color: brightwhite; font-weight: bold;">2pt plus 1pt minus 2pt</span><span style="color: brightwhite;">}</span>
<span style="color: #ff00ff; font-weight: bold;">\setlength</span><span style="color: brightwhite;">{</span><span style="color: brightwhite; font-weight: bold;">\intextsep</span><span style="color: brightwhite;">}{</span><span style="color: brightwhite; font-weight: bold;">2pt plus 1pt minus 2pt</span><span style="color: brightwhite;">}</span>
<span style="color: #ff00ff; font-weight: bold;">\setlength</span><span style="color: brightwhite;">{</span><span style="color: brightwhite; font-weight: bold;">\floatsep</span><span style="color: brightwhite;">}{</span><span style="color: brightwhite; font-weight: bold;">2pt plus 1pt minus 2pt</span><span style="color: brightwhite;">}</span>

<span style="color: #0000ff;">% </span><span style="color: #0000ff;">Minimal spacing around equations</span>
<span style="color: #ff00ff; font-weight: bold;">\setlength</span><span style="color: brightwhite;">{</span><span style="color: brightwhite; font-weight: bold;">\abovedisplayskip</span><span style="color: brightwhite;">}{</span><span style="color: brightwhite; font-weight: bold;">0pt</span><span style="color: brightwhite;">}</span>
<span style="color: #ff00ff; font-weight: bold;">\setlength</span><span style="color: brightwhite;">{</span><span style="color: brightwhite; font-weight: bold;">\belowdisplayskip</span><span style="color: brightwhite;">}{</span><span style="color: brightwhite; font-weight: bold;">0pt</span><span style="color: brightwhite;">}</span>
<span style="color: #ff00ff; font-weight: bold;">\setlength</span><span style="color: brightwhite;">{</span><span style="color: brightwhite; font-weight: bold;">\abovedisplayshortskip</span><span style="color: brightwhite;">}{</span><span style="color: brightwhite; font-weight: bold;">0pt</span><span style="color: brightwhite;">}</span>
<span style="color: #ff00ff; font-weight: bold;">\setlength</span><span style="color: brightwhite;">{</span><span style="color: brightwhite; font-weight: bold;">\belowdisplayshortskip</span><span style="color: brightwhite;">}{</span><span style="color: brightwhite; font-weight: bold;">0pt</span><span style="color: brightwhite;">}</span>
</pre>
</div></li>
</ul>

<p>
Source:
</p>
<ul class="org-ul">
<li><a href="https://tex.stackexchange.com/a/26522/225233">How to change the spacing between figures/tables and text?</a></li>
<li><a href="https://stackoverflow.com/a/27243065/2860744">How to reduce the size of captions in all figures?</a></li>
<li><a href="https://tex.stackexchange.com/a/45996/225233">How can I modify vertical space between figure and caption?</a></li>
<li><a href="https://tex.stackexchange.com/a/53340/225233">Reducing spacing after headings</a></li>
<li><a href="https://ctan.math.utah.edu/ctan/tex-archive/macros/latex/contrib/layouts/layman.pdf">Layouts package</a>: enable the display of various elements of a
document's layout</li>
</ul>
</div>
</div>

<div id="outline-container-org2337930" class="outline-4">
<h4 id="org2337930"><span class="section-number-4">4.1.12.</span> How to smash all in-line math?</h4>
<div class="outline-text-4" id="text-4-1-12">
<p>
There is a strong argument for increasing the <code>linespread</code> to
accomodate for <code>$Y^{(0)}$</code> if you need to use smash too often. If
you insist, though, use <code>\setlength{\lineskiplimit}{-100pt}</code>
</p>

<ul class="org-ul">
<li><a href="https://tex.stackexchange.com/a/86902">How does one stop automatic line spacing increases when
typesetting tall math</a></li>
</ul>
</div>
</div>

<div id="outline-container-org2da8db0" class="outline-4">
<h4 id="org2da8db0"><span class="section-number-4">4.1.13.</span> How to influence the position of a figure/table?</h4>
<div class="outline-text-4" id="text-4-1-13">
<ul class="org-ul">
<li>Low-effort approach: load <code>\usepackage[section]{placeins}</code> and
set <code>h!</code> for placement specifiers. It adds a <code>\FloatBarrier</code>
(<a href="https://tex.stackexchange.com/a/88659/225233">more</a>) at the end of a section to avoid mixing floats and
sections.</li>
<li><a href="https://www.latex-project.org/publications/2014-FMi-TUB-tb111mitt-float-placement.pdf">How to influence the position of float environments like figure
and table in LATEX?</a></li>
</ul>
</div>
</div>

<div id="outline-container-org3b87826" class="outline-4">
<h4 id="org3b87826"><span class="section-number-4">4.1.14.</span> How to fiddle with math font height and width?</h4>
<div class="outline-text-4" id="text-4-1-14">
<p>
<a href="https://paste.xinu.at/m-QzacZr/">https://paste.xinu.at/m-QzacZr/</a>
<a href="https://paste.xinu.at/m-sHDc/">https://paste.xinu.at/m-sHDc/</a>
</p>
</div>
</div>

<div id="outline-container-org0560062" class="outline-4">
<h4 id="org0560062"><span class="section-number-4">4.1.15.</span> How to set a global path for input and graphic files?</h4>
<div class="outline-text-4" id="text-4-1-15">
<div class="org-src-container">
<pre class="src src-latex"><span style="color: #ffff00;">\makeatletter</span>
<span style="color: #ffff00;">\def\input@path</span><span style="color: brightwhite;">{</span><span style="color: brightcyan;">{</span>/path/to/folder/<span style="color: brightcyan;">}</span><span style="color: brightwhite;">}</span>
<span style="color: #0000ff;">% </span><span style="color: #0000ff;">or: </span><span style="color: #0000ff;">\def\input@path</span><span style="color: #0000ff;">{{/path/to/folder/}{/path/to/another/folder/}}</span>
<span style="color: #ffff00;">\makeatother</span>
</pre>
</div>

<p>
Source: <a href="https://tex.stackexchange.com/a/24827/225233">\input and absolute paths</a>
</p>
</div>
</div>

<div id="outline-container-org27ad370" class="outline-4">
<h4 id="org27ad370"><span class="section-number-4">4.1.16.</span> How to align table columns without counting them?</h4>
<div class="outline-text-4" id="text-4-1-16">
<p>
Say you want to align the first column to the left and the rest to
the right without needing to figure out how many columns the table
has. You can specify more columns than used, but not vice-versa, as
in <code>l*9r</code> or <code>l*{99}</code>. Use brackets for more than one digit.
</p>

<div class="org-src-container">
<pre class="src src-latex"><span style="color: #ff00ff; font-weight: bold;">\begin</span><span style="color: brightwhite;">{</span><span style="color: #00ff00; font-weight: bold;">tabular</span><span style="color: brightwhite;">}{</span>l*<span style="color: brightcyan;">{</span>99<span style="color: brightcyan;">}</span>r<span style="color: brightwhite;">}</span>
  col1 <span style="font-weight: bold;">&amp;</span> col2 <span style="font-weight: bold;">\\</span>
<span style="color: #ff00ff; font-weight: bold;">\end</span><span style="color: brightwhite;">{</span><span style="color: #00ff00; font-weight: bold;">tabular</span><span style="color: brightwhite;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org55e04d5" class="outline-4">
<h4 id="org55e04d5"><span class="section-number-4">4.1.17.</span> How to add the (sub)section name in the page header?</h4>
<div class="outline-text-4" id="text-4-1-17">
<div class="org-src-container">
<pre class="src src-latex"><span style="color: #0000ff;">% </span><span style="color: #0000ff;">Add section name in page header</span>
<span style="color: #ff00ff; font-weight: bold;">\usepackage</span><span style="color: brightwhite;">{</span><span style="color: #00ff00; font-weight: bold;">fancyhdr</span><span style="color: brightwhite;">}</span>
<span style="color: #ffff00;">\fancypagestyle</span><span style="color: brightwhite;">{</span>main<span style="color: brightwhite;">}{</span>
  <span style="color: #ffff00;">\fancyhf</span><span style="color: brightcyan;">{}</span>
  <span style="color: #ff00ff; font-weight: bold;">\renewcommand</span><span style="color: brightcyan;">{</span><span style="color: #ff00ff; font-weight: bold;">\</span><span style="color: #ff00ff; font-weight: bold;">sectionmark</span><span style="color: brightcyan;">}[</span><span style="color: brightwhite; font-weight: bold;">1</span><span style="color: brightcyan;">]{</span><span style="color: #00ff00; font-weight: bold;">\markright</span><span style="color: brightmagenta; font-weight: bold;">{</span><span style="color: #00ff00; font-weight: bold;">\thesection</span><span style="color: #00ff00; font-weight: bold;">\ ##1</span><span style="color: brightmagenta; font-weight: bold;">}</span><span style="color: brightcyan;">}</span>
  <span style="color: #ff00ff; font-weight: bold;">\renewcommand</span><span style="color: brightcyan;">{</span><span style="color: #ff00ff; font-weight: bold;">\</span><span style="color: #ff00ff; font-weight: bold;">subsectionmark</span><span style="color: brightcyan;">}[</span><span style="color: brightwhite; font-weight: bold;">1</span><span style="color: brightcyan;">]{</span><span style="color: #00ff00; font-weight: bold;">\markright</span><span style="color: brightmagenta; font-weight: bold;">{</span><span style="color: #00ff00; font-weight: bold;">\thesubsection</span><span style="color: #00ff00; font-weight: bold;">\ ##1</span><span style="color: brightmagenta; font-weight: bold;">}</span><span style="color: brightcyan;">}</span>
  <span style="color: #ff00ff; font-weight: bold;">\renewcommand</span><span style="color: brightcyan;">{</span><span style="color: #ff00ff; font-weight: bold;">\</span><span style="color: #ff00ff; font-weight: bold;">subsubsectionmark</span><span style="color: brightcyan;">}[</span><span style="color: brightwhite; font-weight: bold;">1</span><span style="color: brightcyan;">]{</span><span style="color: #00ff00; font-weight: bold;">\markright</span><span style="color: brightmagenta; font-weight: bold;">{</span><span style="color: #00ff00; font-weight: bold;">\thesubsubsection</span><span style="color: #00ff00; font-weight: bold;">\ ##1</span><span style="color: brightmagenta; font-weight: bold;">}</span><span style="color: brightcyan;">}</span>
  <span style="color: #ffff00;">\fancyhead</span><span style="color: brightcyan;">[</span>L<span style="color: brightcyan;">]{</span><span style="color: #ff00ff; font-weight: bold;">\textsl</span><span style="color: brightmagenta;">{</span><span style="color: #ff00ff; font-weight: bold; font-style: italic;">\footnotesize</span><span style="color: #ff00ff; font-style: italic;">{</span><span style="color: #ff00ff; font-style: italic;">\rightmark</span><span style="color: #ff00ff; font-style: italic;">}</span><span style="color: brightmagenta;">}</span><span style="color: brightcyan;">}</span>
<span style="color: brightwhite;">}</span>
<span style="color: #ff00ff; font-weight: bold;">\pagestyle</span><span style="color: brightwhite;">{</span><span style="color: #00ff00; font-weight: bold;">main</span><span style="color: brightwhite;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org94c4354" class="outline-4">
<h4 id="org94c4354"><span class="section-number-4">4.1.18.</span> How to hide section headings?</h4>
<div class="outline-text-4" id="text-4-1-18">
<div class="org-src-container">
<pre class="src src-latex"><span style="color: #ff00ff; font-weight: bold;">\usepackage</span><span style="color: brightwhite;">{</span><span style="color: #00ff00; font-weight: bold;">titlesec</span><span style="color: brightwhite;">}</span>

<span style="color: #ffff00;">\makeatletter</span>
<span style="color: #ffff00;">\titleformat</span><span style="color: brightwhite;">{</span><span style="color: #ff00ff; font-weight: bold;">\</span><span style="color: #ff00ff; font-weight: bold;">section</span><span style="color: brightwhite;">}[</span>runin<span style="color: brightwhite;">]{}{}{</span>0pt<span style="color: brightwhite;">}{</span><span style="color: #ffff00;">\@gobble</span><span style="color: brightwhite;">}</span>
<span style="color: #ffff00;">\titleformat</span><span style="color: brightwhite;">{</span><span style="color: #ff00ff; font-weight: bold;">\</span><span style="color: #ff00ff; font-weight: bold;">subsection</span><span style="color: brightwhite;">}[</span>runin<span style="color: brightwhite;">]{}{}{</span>0pt<span style="color: brightwhite;">}{</span><span style="color: #ffff00;">\@gobble</span><span style="color: brightwhite;">}</span>

<span style="color: #ffff00;">\makeatother</span>
<span style="color: #ffff00;">\titlespacing</span><span style="color: brightwhite;">{</span><span style="color: #ff00ff; font-weight: bold;">\</span><span style="color: #ff00ff; font-weight: bold;">section</span><span style="color: brightwhite;">}{</span><span style="color: #ffff00;">\parindent</span><span style="color: brightwhite;">}{</span>0pt<span style="color: brightwhite;">}{</span>0pt<span style="color: brightwhite;">}</span>
<span style="color: #ffff00;">\titlespacing</span><span style="color: brightwhite;">{</span><span style="color: #ff00ff; font-weight: bold;">\</span><span style="color: #ff00ff; font-weight: bold;">subsection</span><span style="color: brightwhite;">}{</span><span style="color: #ffff00;">\parindent</span><span style="color: brightwhite;">}{</span>0pt<span style="color: brightwhite;">}{</span>0pt<span style="color: brightwhite;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb85c744" class="outline-4">
<h4 id="orgb85c744"><span class="section-number-4">4.1.19.</span> How to change the caption font size?</h4>
<div class="outline-text-4" id="text-4-1-19">
<div class="org-src-container">
<pre class="src src-latex"><span style="color: #ff00ff; font-weight: bold;">\usepackage</span><span style="color: brightwhite;">{</span><span style="color: #00ff00; font-weight: bold;">caption</span><span style="color: brightwhite;">}</span>
<span style="color: #ffff00;">\captionsetup</span><span style="color: brightwhite;">{</span>font=footnotesize<span style="color: brightwhite;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org8a134c9" class="outline-4">
<h4 id="org8a134c9"><span class="section-number-4">4.1.20.</span> How to properly compile a LaTeX project?</h4>
<div class="outline-text-4" id="text-4-1-20">
<p>
Use <code>latemk file.tex -pdf</code> and that's it. No need to run multiple
commands or figure out the right order. Put in a makefile if that's
your workflow.
</p>

<p>
Source: <a href="https://tex.stackexchange.com/a/40759/225233">how to properly 'make' a latex project?</a>
</p>
</div>
</div>

<div id="outline-container-orgc3058d6" class="outline-4">
<h4 id="orgc3058d6"><span class="section-number-4">4.1.21.</span> How to make GitHub compile a document after a push?</h4>
<div class="outline-text-4" id="text-4-1-21">
<ul class="org-ul">
<li><a href="https://github.com/exaexa/better-mff-thesis/blob/b8d46ea25a11972ea9cb08f0b0da7df1a23ad178/.github/workflows/main.yml">GitHub workflow yaml file by exaexa</a></li>
</ul>
</div>
</div>

<div id="outline-container-org49a06c4" class="outline-4">
<h4 id="org49a06c4"><span class="section-number-4">4.1.22.</span> How to build a custom style?</h4>
<div class="outline-text-4" id="text-4-1-22">
<ul class="org-ul">
<li>Consider building a class
<ul class="org-ul">
<li><a href="https://www.latex-project.org/help/documentation/clsguide.pdf">LATEX2e for class and package writers</a> Sec 2.3</li>
<li>Example <a href="https://github.com/exaexa/manurxiv/blob/master/manurxiv.cls#L20">manurxiv/manurxiv.cls at exaexa/manurxiv</a></li>
</ul></li>
</ul>

<p>
Mix and match (suggestions for a research paper style):
</p>

<ul class="org-ul">
<li>Search for accessibility guidelines</li>
<li>A base template for inspiration, e.g., <a href="https://www.overleaf.com/latex/templates/icml2021-template/dsftnbmjgyhv">ICML2021 Template</a></li>
<li>Layout, e.g., two columns</li>
<li>Portrait pages need to be easy to set up</li>
<li>Line numbering</li>
<li>Author affiliation need to be easy to set up</li>
<li>Short title in header/footer</li>
<li>Page number in header/footer</li>
<li>Headings need to be easy to spot</li>
<li>Text font, e.g., libertinus, palladios, see also <a href="https://tug.org/FontCatalogue/">The LaTeX Font
Catalogue</a></li>
<li>Math font</li>
<li>Load AMS packages</li>
<li>Reasonably minimal page margins</li>
<li>Reasonably minimal fig/table caption margins</li>
<li>Allow for fig/table extending over both columns</li>
<li>Appendix need to be easy to set up</li>
<li>Appendix fig/table numbering should start with A, e.g., Table A.1</li>
<li>Option to hide names and acknowledgments</li>
<li>Option for a short table of content on front page</li>
<li>Have some basic editing commands
<ul class="org-ul">
<li>Logical markup, see <a href="https://www.ctan.org/pkg/soul">CTAN: Package soul</a> (Manual, Sec 5.1)</li>
<li>Note box, see <a href="https://tex.stackexchange.com/a/59342/225233">How to highlight an entire paragraph?</a></li>
</ul></li>
<li>Recall that not everyone types in English</li>
</ul>
</div>
</div>

<div id="outline-container-orgb54e090" class="outline-4">
<h4 id="orgb54e090"><span class="section-number-4">4.1.23.</span> What type of LaTeX commands exist?</h4>
<div class="outline-text-4" id="text-4-1-23">
<ul class="org-ul">
<li>Author commands
<ul class="org-ul">
<li>typically short, lower case names</li>
<li>e.g. <code>\section</code>, <code>\emph</code>, <code>\times</code></li>
</ul></li>
<li>Class and package writer commands
<ul class="org-ul">
<li>typically long, CamelCase names</li>
<li>e.g., <code>\InputIfFileExists</code>, <code>\RequirePackage</code>, <code>\PassOptionsToClass</code></li>
</ul></li>
<li>Internal commands
<ul class="org-ul">
<li>typically contain an @ in their name</li>
<li>e.g., <code>\@tempcnta</code>, <code>\@ifnextchar</code> and <code>\@eha</code></li>
</ul></li>
<li>Exceptions:
<ul class="org-ul">
<li><code>\hbox</code> is internal</li>
<li><code>\m@ne</code>, the constant -1, is for class and package writers</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-orgf6647ad" class="outline-4">
<h4 id="orgf6647ad"><span class="section-number-4">4.1.24.</span> How to make a class color safe?</h4>
<div class="outline-text-4" id="text-4-1-24">
<ul class="org-ul">
<li>Issue: when using <code>{\color{green} text}</code>, color is restored
after the final <code>}</code>
<ul class="org-ul">
<li>e.g., \setbox0=\hbox{\color{green} ⟨text⟩}</li>
</ul></li>
<li>Use LaTeX box commands rather than TeX primites
<ul class="org-ul">
<li><code>\sbox</code> rather than <code>\setbox</code></li>
<li><code>\mbox</code> rather than <code>\hbox</code></li>
<li><code>\parbox</code> or a <code>minipage</code> environment rather than <code>\vbox</code></li>
</ul></li>
<li>Use <code>\normalcolor</code> to set regions to main document color rather
like <code>\normalfont</code></li>
</ul>
</div>
</div>

<div id="outline-container-org21d2172" class="outline-4">
<h4 id="org21d2172"><span class="section-number-4">4.1.25.</span> How to write a custom LaTeX class?</h4>
<div class="outline-text-4" id="text-4-1-25">
<ul class="org-ul">
<li>Use the <code>doc</code> software which comes with LaTeX (see The LaTeX companion)</li>
</ul>
</div>
</div>

<div id="outline-container-org5414a22" class="outline-4">
<h4 id="org5414a22"><span class="section-number-4">4.1.26.</span> Resources</h4>
<div class="outline-text-4" id="text-4-1-26">
<ul class="org-ul">
<li><a href="https://tobi.oetiker.ch/lshort/lshort.pdf">The Not So Short Introduction to LaTeX2e</a>: LaTeX2e in 139 minutes</li>
<li><a href="https://www.ctan.org/pkg/texbook">The TeXbook</a>: an example of the business of writing a book in TeX</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org414d0de" class="outline-3">
<h3 id="org414d0de"><span class="section-number-3">4.2.</span> Beamer</h3>
<div class="outline-text-3" id="text-4-2">
</div>
<div id="outline-container-org7d6593e" class="outline-4">
<h4 id="org7d6593e"><span class="section-number-4">4.2.1.</span> How to build a Beamer template?</h4>
<div class="outline-text-4" id="text-4-2-1">
<p>
Mix and match:
</p>

<ul class="org-ul">
<li>A base template</li>
<li>Text font, e.g., <a href="https://tug.org/FontCatalogue/mathfonts.html">https://tug.org/FontCatalogue/mathfonts.html</a>
<ul class="org-ul">
<li>Latin Modern, Stix2, XITS, Asana, Fira Math, TeX Gyre
{Pagella,Bonum,Schola,Termes,Heros}, Libertinus, Euler, Lucida
Bright, and Minion Pro</li>
</ul></li>
<li>Math font, e.g., <a href="https://fontlibrary.org/en/font/libertinus-serif">Libertinus</a>
<ul class="org-ul">
<li>Mono math? <a href="https://tug.org/FontCatalogue/computerconcrete/">https://tug.org/FontCatalogue/computerconcrete/</a></li>
<li><a href="https://tex.stackexchange.com/a/59706/225233">Suggest a "nice" font family for my basic LaTeX template (text and math)</a></li>
</ul></li>
<li>Color palette, e.g., <a href="https://lvjr.bitbucket.io/contrast.html">https://lvjr.bitbucket.io/contrast.html</a></li>
<li>Accessibility guidelines</li>
<li>Good presentation guidelines</li>
<li>List of slide layouts</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org609dd74" class="outline-3">
<h3 id="org609dd74"><span class="section-number-3">4.3.</span> Graph diagrams</h3>
<div class="outline-text-3" id="text-4-3">
</div>
<div id="outline-container-org02a4a19" class="outline-4">
<h4 id="org02a4a19"><span class="section-number-4">4.3.1.</span> Graphviz</h4>
<div class="outline-text-4" id="text-4-3-1">
<ul class="org-ul">
<li>Engine: <a href="https://graphviz.org/">graphviz</a>, mostly <a href="https://graphviz.org/doc/info/lang.html">DOT</a></li>
<li>Editor online: <a href="https://edotor.net/">Edotor</a></li>
</ul>
</div>
</div>

<div id="outline-container-org2f5fc8f" class="outline-4">
<h4 id="org2f5fc8f"><span class="section-number-4">4.3.2.</span> PGF/TikZ</h4>
<div class="outline-text-4" id="text-4-3-2">
<p>
Typically requires a bit more of work, but it's more flexible and
allows for neater graphs
</p>

<ul class="org-ul">
<li>Use the <code>graphdrawing</code> tikz library for automated graph layout</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-orga6e3d0d" class="outline-3">
<h3 id="orga6e3d0d"><span class="section-number-3">4.4.</span> Biblatex</h3>
<div class="outline-text-3" id="text-4-4">
<ul class="org-ul">
<li>Use biblatex (LaTeX package that format citations) with a biber
backend (external program that processes bibliography information)</li>
<li><a href="https://tex.stackexchange.com/a/25702/225233">bibtex vs. biber and biblatex vs. natbib</a></li>
</ul>
</div>
</div>

<div id="outline-container-orge9c1f7d" class="outline-3">
<h3 id="orge9c1f7d"><span class="section-number-3">4.5.</span> Reference management</h3>
<div class="outline-text-3" id="text-4-5">
<ul class="org-ul">
<li>Use <a href="https://zotero.org/">Zotero</a> with <a href="https://www.zotero.org/download/connectors">Zotero connector</a> and <a href="https://retorque.re/zotero-better-bibtex/">better bibtex</a>.</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org6fbbad4" class="outline-2">
<h2 id="org6fbbad4"><span class="section-number-2">5.</span> Text editors</h2>
<div class="outline-text-2" id="text-5">
</div>
<div id="outline-container-org5229f30" class="outline-3">
<h3 id="org5229f30"><span class="section-number-3">5.1.</span> Emacs</h3>
<div class="outline-text-3" id="text-5-1">
</div>
<div id="outline-container-org6aa232c" class="outline-4">
<h4 id="org6aa232c"><span class="section-number-4">5.1.1.</span> How to open all files by pattern?</h4>
<div class="outline-text-4" id="text-5-1-1">
<div class="org-src-container">
<pre class="src src-shell">emacs *.tex
</pre>
</div>

<div class="org-src-container">
<pre class="src src-shell">emacs *.tex */*.tex
</pre>
</div>

<div class="org-src-container">
<pre class="src src-shell">find . -iname <span style="color: #ffff00;">\*</span>tex -exec emacsclient {} +
</pre>
</div>
</div>
</div>

<div id="outline-container-org4bbe85e" class="outline-4">
<h4 id="org4bbe85e"><span class="section-number-4">5.1.2.</span> How to highlight by word, line, or regex?</h4>
<div class="outline-text-4" id="text-5-1-2">
<ul class="org-ul">
<li><a href="https://masteringemacs.org/article/highlighting-by-word-line-regexp">Highlighting by Word, Line and Regexp</a></li>
</ul>
</div>
</div>

<div id="outline-container-org3df54dd" class="outline-4">
<h4 id="org3df54dd"><span class="section-number-4">5.1.3.</span> How to profile init / settings?</h4>
<div class="outline-text-4" id="text-5-1-3">
<ul class="org-ul">
<li><a href="https://melpa.org/#/esup">The Emacs StartUp Profiler (ESUP)</a></li>
</ul>
</div>
</div>

<div id="outline-container-org244ab64" class="outline-4">
<h4 id="org244ab64"><span class="section-number-4">5.1.4.</span> Useful modes</h4>
<div class="outline-text-4" id="text-5-1-4">
<ul class="org-ul">
<li><a href="https://ftp.gnu.org/pub/gnu/auctex/12.2-extra/tex-ref.pdf">AucTex reference card</a></li>
</ul>
</div>
</div>

<div id="outline-container-org4b66145" class="outline-4">
<h4 id="org4b66145"><span class="section-number-4">5.1.5.</span> Emacs packages worth checking</h4>
<div class="outline-text-4" id="text-5-1-5">
<ul class="org-ul">
<li>ripgrep</li>
<li>eshell</li>
<li>dired</li>
<li>mu4e</li>
<li>org-publish: for a website</li>
<li>org-roam</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgd1bb0d9" class="outline-3">
<h3 id="orgd1bb0d9"><span class="section-number-3">5.2.</span> Org-mode</h3>
<div class="outline-text-3" id="text-5-2">
</div>
<div id="outline-container-org288d993" class="outline-4">
<h4 id="org288d993"><span class="section-number-4">5.2.1.</span> How to export/tangle automatically on commit?</h4>
<div class="outline-text-4" id="text-5-2-1">
<p>
NB: <code>--batch</code> implies <code>-q</code>, hence initialization files are no
loaded. Add <code>-l ~/.emacs</code>, <code>-l ~/.config/emacs/init.el</code> or similar.
</p>

<div class="org-src-container">
<pre class="src src-shell"><span style="color: brightred;">echo</span> <span style="color: #ffff00;">'type emacs &gt; /dev/null 2&gt;&amp;1 &amp;&amp;</span>
<span style="color: #ffff00;">    emacs README.org --batch -f org-md-export-to-markdown --kill &amp;&amp;</span>
<span style="color: #ffff00;">    git add README.md'</span> &gt;&gt; .git/hooks/pre-commit &amp;&amp; chmod +x .git/hooks/pre-commit
</pre>
</div>

<ul class="org-ul">
<li><a href="https://git.sr.ht/~mplscorwin/org-git-hooks">~mplscorwin/org-git-hooks</a>: automatically render code and
documentation from org when you git commit</li>
<li><a href="https://lists.gnu.org/r/bug-gnu-emacs/2021-12/msg00239.html">bug#12791: 24.2; An option to load user init file with -batch</a></li>
</ul>
</div>
</div>

<div id="outline-container-orgaeb0cfb" class="outline-4">
<h4 id="orgaeb0cfb"><span class="section-number-4">5.2.2.</span> General resources</h4>
<div class="outline-text-4" id="text-5-2-2">
<ul class="org-ul">
<li><a href="https://academia.stackexchange.com/questions/1273/use-cases-of-org-mode-as-a-scientific-productivity-tool-for-academics-without-pr">Use cases of org-mode as a scientific productivity tool for academics</a></li>
<li><a href="https://github.com/fniessen/refcard-org-mode">Org-mode reference card</a></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org85fa28e" class="outline-3">
<h3 id="org85fa28e"><span class="section-number-3">5.3.</span> Elisp</h3>
<div class="outline-text-3" id="text-5-3">
</div>
<div id="outline-container-orgb7cc211" class="outline-4">
<h4 id="orgb7cc211"><span class="section-number-4">5.3.1.</span> Where to start with elisp?</h4>
<div class="outline-text-4" id="text-5-3-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(info <span style="color: #ffff00;">"(eintr) Top"</span>)
</pre>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-orgff9e967" class="outline-2">
<h2 id="orgff9e967"><span class="section-number-2">6.</span> Programming</h2>
<div class="outline-text-2" id="text-6">
</div>
<div id="outline-container-org50743ae" class="outline-3">
<h3 id="org50743ae"><span class="section-number-3">6.1.</span> Programming fonts</h3>
<div class="outline-text-3" id="text-6-1">
<ul class="org-ul">
<li>Recommended fonts: Consoles, Andale mono, fira code (ligatures),
Source Code Pro, DejaVu Sans Mono</li>
<li>Use <code>Illegal1 = O0</code> as a test</li>
</ul>

<p>
Source: <a href="https://stackoverflow.com/q/4689/2860744">recommended fonts for programming?</a>
</p>
</div>
</div>
<div id="outline-container-orgb112ce3" class="outline-3">
<h3 id="orgb112ce3"><span class="section-number-3">6.2.</span> Project structure</h3>
<div class="outline-text-3" id="text-6-2">
<ul class="org-ul">
<li>Prefer folder-by-feature over folder-by-type (<a href="https://softwareengineering.stackexchange.com/a/338610">source</a>)</li>
<li>Organize tests by mirroring the source tree (<a href="https://softwareengineering.stackexchange.com/a/112261">source</a>)</li>
<li>Typical structure (<a href="https://softwareengineering.stackexchange.com/a/392461">source</a>)
<ul class="org-ul">
<li><code>/bin</code> Files to be executed</li>
<li><code>/src</code> Source files</li>
<li><code>/lib</code> External dependencies</li>
<li><code>/doc</code> Documentation, and more generally any kind of writing</li>
<li><code>/test</code> All tests</li>
<li><code>/sandbox</code> The fact that there's one is probably a bad sign, but
there you go</li>
</ul></li>
<li>Executable files
<ul class="org-ul">
<li>Go in the <code>\bin</code> folder</li>
<li>Start with the appropiate shebang, e.g., <code>#!/usr/bin/Rscript</code></li>
<li>Are truly executable, e.g., <code>chmod +x script.R</code></li>
<li>Has all paths set so that it can be called from the project
root, e.g., <code>./bin/process-data.R</code></li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-orgda089be" class="outline-3">
<h3 id="orgda089be"><span class="section-number-3">6.3.</span> Functional programming</h3>
<div class="outline-text-3" id="text-6-3">
</div>
<div id="outline-container-org0ef2f0d" class="outline-4">
<h4 id="org0ef2f0d"><span class="section-number-4">6.3.1.</span> Concepts</h4>
<div class="outline-text-4" id="text-6-3-1">
<ul class="org-ul">
<li><a href="https://stackoverflow.com/questions/218025/what-is-the-difference-between-currying-and-partial-application">What is the difference between currying and partial application?</a></li>
</ul>
</div>
</div>

<div id="outline-container-org36ef4b8" class="outline-4">
<h4 id="org36ef4b8"><span class="section-number-4">6.3.2.</span> Pure functions</h4>
<div class="outline-text-4" id="text-6-3-2">
<ul class="org-ul">
<li>Requirements:
<ul class="org-ul">
<li>Referential transparecy: always returns the same result if
given the same arguments
<ul class="org-ul">
<li>Rely on their own arguments and immutable values only, e.g.,
a string</li>
<li>No dependence on random number generation, data files</li>
</ul></li>
<li>Must have no side effects
<ul class="org-ul">
<li>No need to worry if used in multiple places, or down a deep
call chain</li>
<li>No uncertainty about what an object name refers to</li>
<li>Easier to trace and debug</li>
</ul></li>
</ul></li>
<li>Immutable data structures
<ul class="org-ul">
<li>Recursion instead of for/while loops</li>
<li>Function composition instead of attribute mutation</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-orgb16badb" class="outline-4">
<h4 id="orgb16badb"><span class="section-number-4">6.3.3.</span> Functional design patterns</h4>
<div class="outline-text-4" id="text-6-3-3">
<p>
A program is chain of monoids (which is a chain of continuations
(which is a chain of partial applications (which is a chain of
compositions (which is a chain of one-argument functions))))
</p>

<ul class="org-ul">
<li>Functions all the way down!
<ul class="org-ul">
<li>Function as inputs</li>
<li>Functions as outputs</li>
<li>Function as arguments
<ul class="org-ul">
<li>Hard-coded data, e.g., <code>for i in 1:10</code></li>
<li>Hard-coded behavior, e.g., <code>print</code></li>
<li>Decouple behavior from data, i.e., any behavior times any data</li>
<li>Collection functions, e.g., fold, map, reduce, collect</li>
</ul></li>
</ul></li>
<li>Composition pattern: chain low-level operations
<ul class="org-ul">
<li>e.g., <code>apple -&gt; cherry = apple -&gt; banana + banana -&gt; cherry</code></li>
<li>Low-level operation: e.g., <code>string -&gt; string</code></li>
<li>Service: chained low level operations, e.g., <code>Address -&gt; Validation</code></li>
<li>Use-case: chained services, e.g., <code>ChangeProfileRequest -&gt;
       ChangeProfileResult</code></li>
<li>Application: chained use-cases, e.g., <code>Request -&gt; Response</code></li>
<li>Composition is fractal</li>
<li>Works for functions with one parameter only (see next)</li>
</ul></li>
<li>Partial application
<ul class="org-ul">
<li>Write a two-parameter function as a one-parameter function that
returns a one parameter function, e.g., <code>a + b = function(b) { a +
       b })</code>.</li>
<li>Uses:
<ul class="org-ul">
<li>When working with vectorized applications, e.g., lapply, Map,
Filter.</li>
<li>To inject dependencies, e.g., on a database or file
connection.</li>
</ul></li>
</ul></li>
<li>Continuations: chain partial applications
<ul class="org-ul">
<li>Bad: nested checks (<a href="https://en.wikipedia.org/wiki/Pyramid_of_doom_(programming)">pyramid of doom</a>)</li>
<li>Good:
<ul class="org-ul">
<li>Start with an abstract <code>if_ function -&gt; returnType</code></li>
<li><p>
Chain them:
</p>
<pre class="example">
if_(doA) else doNestedActionLevel1
if_(doB) else doNestedActionLevel2
if_(doC) else doNestedActionLevel3
</pre></li>
</ul></li>
</ul></li>
<li>Monoids: chain continuations
<ul class="org-ul">
<li>Closure: combining two things always returns another one
thing.
<ul class="org-ul">
<li>Readily <b>vectorized</b>!</li>
</ul></li>
<li>Associativity: when combining more than two things, pairwise
combination order does not matter
<ul class="org-ul">
<li>Readily <b>parallelized</b>!</li>
<li>Easy for incremental accumulation</li>
</ul></li>
<li>Identity: a special thing called "zero" that returns the same
thing that was combined with it
<ul class="org-ul">
<li>Use as <b>initial value</b> for empty or missing data</li>
</ul></li>
</ul></li>
<li>Two-track model for error handling:
<ul class="org-ul">
<li>Use a switch function for error handling, e.g.,
<code>validate(input)</code> calls <code>sucessFun(input)</code> or <code>failure(error)</code></li>
</ul></li>
</ul>

<p>
From <a href="https://www.slideshare.net/ScottWlaschin/fp-patterns-ndc-london2014">Functional Programming Patterns (NDC London 2014)</a> by Scott Wlaschin.
</p>
</div>
</div>

<div id="outline-container-org500a6c4" class="outline-4">
<h4 id="org500a6c4"><span class="section-number-4">6.3.4.</span> General</h4>
<div class="outline-text-4" id="text-6-3-4">
<ul class="org-ul">
<li><a href="https://fsharpforfunandprofit.com/fppatterns/">Functional Programming Design Patterns</a>: design pattern overview
and some demonstrations</li>
<li><a href="https://softwareengineering.stackexchange.com/questions/89273/where-are-all-the-functional-programming-design-patterns">Where are all the functional programming design patterns?</a></li>
<li><a href="http://www.cs.ox.ac.uk/publications/publication2335-abstract.html">Origami programming</a>: natural patterns for computation over
recursive datatypes</li>
<li><a href="https://alvinalexander.gumroad.com/l/lfpis">Functional Programming, Simplified</a>: large <a href="https://alvinalexander.com/scala/functional-programming-simplified-book">free preview</a> available
<ul class="org-ul">
<li>The proper way to handle exceptions and null values</li>
<li>Many lessons on <code>for</code>-expressions, which lead naturally into
monads</li>
</ul></li>
<li><a href="https://docs.google.com/presentation/d/1a4GvI0dbL8sfAlnTUwVxhq4_j-QiDlz02_t0XZJXnzY/preview?slide=id.ga8d8f45ac_065">To know good vs bad Scala style</a></li>
<li><a href="https://www.braveclojure.com/functional-programming/">Functional Programming | Clojure for the Brave and True</a></li>
</ul>
</div>
</div>
</div>
</div>

<div id="outline-container-org33343c5" class="outline-2">
<h2 id="org33343c5"><span class="section-number-2">7.</span> R programming</h2>
<div class="outline-text-2" id="text-7">
</div>
<div id="outline-container-org7f3e9f9" class="outline-3">
<h3 id="org7f3e9f9"><span class="section-number-3">7.1.</span> Write better R</h3>
<div class="outline-text-3" id="text-7-1">
</div>
<div id="outline-container-orgb8febb9" class="outline-4">
<h4 id="orgb8febb9"><span class="section-number-4">7.1.1.</span> Non-standard evaluation</h4>
<div class="outline-text-4" id="text-7-1-1">
<ul class="org-ul">
<li>NSEs are like <b>super duper macros</b></li>
</ul>
</div>
</div>

<div id="outline-container-org99ddc7d" class="outline-4">
<h4 id="org99ddc7d"><span class="section-number-4">7.1.2.</span> R is functional</h4>
<div class="outline-text-4" id="text-7-1-2">
<ul class="org-ul">
<li>Functions as arguments</li>
<li>Functions as ?</li>
<li>Functions as output</li>
</ul>
</div>
</div>

<div id="outline-container-org4bae658" class="outline-4">
<h4 id="org4bae658"><span class="section-number-4">7.1.3.</span> R has dynamic binding</h4>
<div class="outline-text-4" id="text-7-1-3">
<p>
Or something like that for functions, check
</p>
</div>
</div>
</div>
<div id="outline-container-org24ccf62" class="outline-3">
<h3 id="org24ccf62"><span class="section-number-3">7.2.</span> R programming</h3>
<div class="outline-text-3" id="text-7-2">
</div>
<div id="outline-container-org062b2f4" class="outline-4">
<h4 id="org062b2f4"><span class="section-number-4">7.2.1.</span> Programming with functions</h4>
<div class="outline-text-4" id="text-7-2-1">
</div>
<ol class="org-ol">
<li><a id="orgc932326"></a>How to recover the name of the variable passed as argument?<br />
<div class="outline-text-5" id="text-7-2-1-1">
<div class="org-src-container">
<pre class="src src-R">z <span style="color: brightcyan;">&lt;-</span> 1:10
<span style="color: #00ff00; font-weight: bold;">f</span> <span style="color: brightcyan;">&lt;-</span> <span style="color: #ff00ff; font-weight: bold;">function</span>(x) {
  varName <span style="color: brightcyan;">&lt;-</span> as.character(as.list(match.call())$x) <span style="color: #0000ff;">## </span><span style="color: #0000ff;">"z"</span>
}
</pre>
</div>

<p>
Source: <a href="https://stackoverflow.com/a/19134129/2860744">lazy evaluation - Passing a variable name to a function in R</a>
</p>
</div>
</li>

<li><a id="orga49005e"></a>How to get all function call parameters as a list?<br />
<div class="outline-text-5" id="text-7-2-1-2">
<p>
Call <code>as.list(match.call())[-1]</code> within your function
</p>

<div class="org-src-container">
<pre class="src src-R"><span style="color: #00ff00; font-weight: bold;">mydummyfun</span> <span style="color: brightcyan;">&lt;-</span> <span style="color: #ff00ff; font-weight: bold;">function</span>(x, y, main = <span style="color: brightmagenta;">NULL</span>, ...) {
  l <span style="color: brightcyan;">&lt;-</span> as.list(match.call())[-1]
  do.call(plot, l)
}

mydummyfun(1:10, 1:10, ylab = <span style="color: #ffff00;">"Ex"</span>)
</pre>
</div>

<p>
Source: <a href="https://stackoverflow.com/a/11892680/2860744">Get all Parameters as List</a>
</p>

<p>
If you want to pass all the arguments to a new function:
use <code>match.call</code> to get the complete call, and inject
the name of the new function, and evaluate the modified call.
</p>


<div class="org-src-container">
<pre class="src src-R"><span style="color: #00ff00; font-weight: bold;">f1</span> <span style="color: brightcyan;">&lt;-</span> <span style="color: #ff00ff; font-weight: bold;">function</span>(a, b, c) { sum(a, b, c^2) }

<span style="color: #00ff00; font-weight: bold;">f2</span> <span style="color: brightcyan;">&lt;-</span> <span style="color: #ff00ff; font-weight: bold;">function</span>(a, b, c) { prod(a, b, c) }

<span style="color: #00ff00; font-weight: bold;">f</span>  <span style="color: brightcyan;">&lt;-</span> <span style="color: #ff00ff; font-weight: bold;">function</span>(a, b, c) {
  fun <span style="color: brightcyan;">&lt;-</span> f1
  <span style="color: #ff00ff; font-weight: bold;">if</span> (a &lt; 0)
    fun <span style="color: brightcyan;">&lt;-</span> f2

  <span style="color: #0000ff;">## </span><span style="color: #0000ff;">get the call (fun and args)</span>
  thiscall      <span style="color: brightcyan;">&lt;-</span> match.call(expand.dots = <span style="color: brightmagenta;">TRUE</span>)
  <span style="color: #0000ff;">## </span><span style="color: #0000ff;">change function name</span>
  thiscall[[1]] <span style="color: brightcyan;">&lt;-</span> fun
  <span style="color: #0000ff;">## </span><span style="color: #0000ff;">evaluate new call same as fun(a, b, c)</span>
  eval.parent(thiscall)

}

f(+1, 0, 5)
f(-1, 0, 5)
</pre>
</div>

<p>
Source: <a href="https://stackoverflow.com/a/56811164/2860744">Passing all arguments to another function</a>
</p>
</div>
</li>

<li><a id="org35d106e"></a>How to add a hook to a function call?<br />
<div class="outline-text-5" id="text-7-2-1-3">
<p>
Use <code>trace</code> to get execute an expression after and before a
function call.
</p>

<div class="org-src-container">
<pre class="src src-R"><span style="color: #00ff00; font-weight: bold;">f_before</span> <span style="color: brightcyan;">&lt;-</span> <span style="color: #ff00ff; font-weight: bold;">function</span>() { print(<span style="color: #ffff00;">"Before call"</span>) }
<span style="color: #00ff00; font-weight: bold;">f_after</span>  <span style="color: brightcyan;">&lt;-</span> <span style="color: #ff00ff; font-weight: bold;">function</span>() { print(<span style="color: #ffff00;">"After  call"</span>) }

trace(base::cumsum, f_before, f_after, print = <span style="color: brightmagenta;">FALSE</span>)
cumsum(1:10)

untrace(base::cumsum)
cumsum(1:10)
</pre>
</div>
</div>
</li>

<li><a id="org1d19f4f"></a>How to mimic function overloading?<br />
<div class="outline-text-5" id="text-7-2-1-4">
<p>
Unfortunately, I haven't found anything better than optional
arguments. See for example <a href="https://github.com/wch/r-source/blob/bba8fa69246ea248da33a566f463196614bb5242/src/library/grDevices/R/xyz.coords.R#L21">?xy.coords</a>. In some situations, there
might be better approaches.
</p>

<p>
Source: <a href="https://stackoverflow.com/a/9266265/2860744">R - Function overloading</a>
</p>
</div>
</li>
</ol>
</div>

<div id="outline-container-org132383a" class="outline-4">
<h4 id="org132383a"><span class="section-number-4">7.2.2.</span> Vectorization</h4>
<div class="outline-text-4" id="text-7-2-2">
</div>
<ol class="org-ol">
<li><a id="org097a59b"></a>Why are for loops slow in R?<br />
<div class="outline-text-5" id="text-7-2-2-1">
<p>
<code>for</code>, <code>:</code>, <code>[</code>, <code>[&lt;-</code> are all function calls and function calls
can be time-consuming.  The following loop is, in fact, a sequence
of many function calls. Vectorized functions are written in C and
are typically faster.
</p>

<div class="org-src-container">
<pre class="src src-R">N      <span style="color: brightcyan;">&lt;-</span> 20
fib    <span style="color: brightcyan;">&lt;-</span> rep(<span style="color: brightmagenta;">NA</span>, 10)
fib[1] <span style="color: brightcyan;">&lt;-</span> 0
fib[2] <span style="color: brightcyan;">&lt;-</span> 1

<span style="color: #ff00ff; font-weight: bold;">for</span> (i <span style="color: #ff00ff; font-weight: bold;">in</span> 3:N)
  fib[i] <span style="color: brightcyan;">&lt;-</span> fib[i - 1] + fib[i - 2]
</pre>
</div>

<p>
Source: The Art of R Programming: A Tour of Statistical Software
Design section 14.1.1
</p>
</div>
</li>

<li><a id="org0ddbd19"></a>Why is <code>apply</code> not fast?<br />
<div class="outline-text-5" id="text-7-2-2-2">
<p>
While <code>lapply</code> and others are implemented in C, <code>apply</code> is actually
implemented in R and might not provide a high speedup.
</p>

<p>
Source: The Art of R Programming: A Tour of Statistical Software
Design section 14.1.1
</p>
</div>
</li>

<li><a id="orgc9612de"></a>Which base R functions are vectorized?<br />
<div class="outline-text-5" id="text-7-2-2-3">
<p>
Not an comprehensive list
</p>

<ul class="org-ul">
<li>Math operators
<ul class="org-ul">
<li><code>+</code>, <code>-</code>, etc</li>
</ul></li>
<li>Logic
<ul class="org-ul">
<li><code>==</code>, <code>!=</code>, etc</li>
</ul></li>
<li>Vectors
<ul class="org-ul">
<li>ifelse</li>
<li>which</li>
<li>where</li>
<li>any</li>
<li>all</li>
<li>cumsum</li>
<li>cumprod</li>
<li>abs</li>
<li>pmin</li>
<li>pmax</li>
</ul></li>
<li>Matrix:
<ul class="org-ul">
<li>rowSums</li>
<li>colSums</li>
<li>lower.tri</li>
<li>upper.tri</li>
</ul></li>
<li>All pairs
<ul class="org-ul">
<li>outer</li>
</ul></li>
<li>All combinations
<ul class="org-ul">
<li>combin</li>
<li>expand.grid</li>
</ul></li>
</ul>
</div>
</li>
</ol>
</div>

<div id="outline-container-org370c2bd" class="outline-4">
<h4 id="org370c2bd"><span class="section-number-4">7.2.3.</span> How to create a sequence within groups?</h4>
<div class="outline-text-4" id="text-7-2-3">
<div class="org-src-container">
<pre class="src src-R">x <span style="color: brightcyan;">&lt;-</span> unlist(replicate(10, rep(sample(LETTERS, 1), rpois(1, 4))))
sequence(rle(x)$lengths)                  <span style="color: #0000ff;"># </span><span style="color: #0000ff;">if ordered</span>
unlist(sapply(unname(table(x)), seq.int)) <span style="color: #0000ff;"># </span><span style="color: #0000ff;">doesn't need ordering</span>
</pre>
</div>

<p>
Source: <a href="https://stackoverflow.com/a/18815118/2860744">generate sequence within group in R</a>
</p>
</div>
</div>

<div id="outline-container-orgc782acb" class="outline-4">
<h4 id="orgc782acb"><span class="section-number-4">7.2.4.</span> How to identify value changes in a sequence?</h4>
<div class="outline-text-4" id="text-7-2-4">
<div class="org-src-container">
<pre class="src src-R">x <span style="color: brightcyan;">&lt;-</span> unlist(replicate(10, rep(sample(LETTERS, 1), rpois(1, 4))))
head(cumsum(rle(x)$lengths)+1, -1)
</pre>
</div>

<p>
Source: <a href="https://stackoverflow.com/a/45154771/2860744">Identifying where value changes in R data.frame column</a>
</p>
</div>
</div>

<div id="outline-container-orga078dea" class="outline-4">
<h4 id="orga078dea"><span class="section-number-4">7.2.5.</span> How to renumber a group?</h4>
<div class="outline-text-4" id="text-7-2-5">
<p>
Note that <code>as.numeric(as.factor(x))</code> does not work if <code>x</code> contains
numbers. Also, the match-unique combo scales better with large
vectors.
</p>

<div class="org-src-container">
<pre class="src src-R">x <span style="color: brightcyan;">&lt;-</span> c(4, 4, 4, 6, 6, 6, 6, 8, 8, 8, 8, 1, 1, 1, 5, 5, 5, 5)
match(x, unique(x))
<span style="color: #0000ff;">## </span><span style="color: #0000ff;">[1] 1 1 1 2 2 2 2 3 3 3 3 4 4 4 5 5 5 5</span>
</pre>
</div>

<p>
Source: <a href="https://stackoverflow.com/a/6113019/2860744">how to create a consecutive group number</a>
</p>
</div>
</div>

<div id="outline-container-org61877a2" class="outline-4">
<h4 id="org61877a2"><span class="section-number-4">7.2.6.</span> How to make a cross table with a custom function (e.g., mean)?</h4>
<div class="outline-text-4" id="text-7-2-6">
<div class="org-src-container">
<pre class="src src-R">addmargins(xtabs(value ~ ., aggregate(value ~ factor1, factor2, DF, mean)),
           FUN = mean)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb482222" class="outline-4">
<h4 id="orgb482222"><span class="section-number-4">7.2.7.</span> How to make lapply return a data.frame?</h4>
<div class="outline-text-4" id="text-7-2-7">
<p>
If <code>x</code> is a <code>data.frame</code>, which is a list with attributes, use <code>x[]</code>
to preserve all attributes.
</p>

<div class="org-src-container">
<pre class="src src-R">x[] = lapply(x, type.convert)
</pre>
</div>

<p>
Source: <a href="https://github.com/J-Moravec">Jiří Moravec</a>
</p>
</div>
</div>

<div id="outline-container-orgb477087" class="outline-4">
<h4 id="orgb477087"><span class="section-number-4">7.2.8.</span> How to split a matrix row-wise as a list?</h4>
<div class="outline-text-4" id="text-7-2-8">
<p>
Use <code>base::asplit</code> for efficiency, where <code>asplit(X, 1)</code> and
<code>asplit(X, 2)</code> return a list of rows and columns respectively.
</p>

<div class="org-src-container">
<pre class="src src-R"><span style="color: #0000ff;">## </span><span style="color: #0000ff;">I just learned about asplit</span>
asplit(X, 1)

<span style="color: #0000ff;">## </span><span style="color: #0000ff;">Original note</span>
X <span style="color: brightcyan;">&lt;-</span> matrix(rnorm(100), nrow = 20)
l <span style="color: brightcyan;">&lt;-</span> as.list(as.data.frame(t(X)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org60a1135" class="outline-4">
<h4 id="org60a1135"><span class="section-number-4">7.2.9.</span> How to look up a value among possibilities?</h4>
<div class="outline-text-4" id="text-7-2-9">
<p>
The workhorse of any labeling function
</p>

<div class="org-src-container">
<pre class="src src-R">l <span style="color: brightcyan;">&lt;-</span> list(key1 = <span style="color: #ffff00;">"value1"</span>, key2 = <span style="color: brightmagenta;">NA</span>, key3 = 022)
<span style="color: #00ff00; font-weight: bold;">lookup</span> <span style="color: brightcyan;">&lt;-</span> <span style="color: #ff00ff; font-weight: bold;">function</span>(x, l) { unlist(l[x]) }
</pre>
</div>

<p>
Source: <a href="https://gist.github.com/luisdamiano/c8dc80775970e3159b6d4282e1bd85dd">benchmark unlist versus do.call(c, list) for list lookup in R</a>
</p>
</div>
</div>

<div id="outline-container-orgf310f3d" class="outline-4">
<h4 id="orgf310f3d"><span class="section-number-4">7.2.10.</span> How to remove columns with all NA fast?</h4>
<div class="outline-text-4" id="text-7-2-10">
<p>
General approach with Base R only
</p>

<div class="org-src-container">
<pre class="src src-R">Filter(<span style="color: #ff00ff; font-weight: bold;">function</span>(x)!all(is.na(x)), df)
</pre>
</div>

<p>
Via data.table for general time and memory efficiency (40% faster in example)
</p>

<div class="org-src-container">
<pre class="src src-R">DT[, which(unlist(lapply(DT, <span style="color: #ff00ff; font-weight: bold;">function</span>(x)!all(is.na(x))))), with = <span style="color: brightmagenta;">FALSE</span>]
</pre>
</div>

<p>
Source: <a href="https://stackoverflow.com/a/12614723/2860744">remove columns from dataframe where ALL values are NA</a>
</p>
</div>
</div>

<div id="outline-container-orge040edb" class="outline-4">
<h4 id="orge040edb"><span class="section-number-4">7.2.11.</span> How to fast apply a function over a ragged array?</h4>
<div class="outline-text-4" id="text-7-2-11">
<p>
Use <code>unlist(lapply(split(x, f), FUN))</code> for speed, but consider
<code>tapply(x, f, FUN)</code> for readibility maybe?
</p>

<div class="org-src-container">
<pre class="src src-R"><span style="color: #0000ff;">## </span><span style="color: #0000ff;">Unit: microseconds</span>
<span style="color: #0000ff;">##     </span><span style="color: #0000ff;">expr      min        lq      mean    median        uq       max neval</span>
<span style="color: #0000ff;">## </span><span style="color: #0000ff;">f0(x, f)  409.578  415.5165  426.9041  418.9500  424.3400  4237.466 10000</span>
<span style="color: #0000ff;">## </span><span style="color: #0000ff;">f1(x, f)  411.208  418.3095  430.4231  421.8645  427.4155  5550.120 10000</span>
<span style="color: #0000ff;">## </span><span style="color: #0000ff;">f2(x, f)  474.681  487.1265  498.8509  492.6960  497.6360  2552.075 10000</span>
<span style="color: #0000ff;">## </span><span style="color: #0000ff;">f3(x, f) 1395.582 1442.3785 1494.0197 1459.3515 1472.5205 28121.379 10000</span>
set.seed(1)

x <span style="color: brightcyan;">&lt;-</span> rnorm(10000)
f <span style="color: brightcyan;">&lt;-</span> factor(rpois(10000, 5))

<span style="color: #00ff00; font-weight: bold;">tapply_</span> <span style="color: brightcyan;">&lt;-</span> <span style="color: #ff00ff; font-weight: bold;">function</span>(x, f, FUN) { unlist(lapply(split(x, f), FUN)) }

<span style="color: #00ff00; font-weight: bold;">f0</span> <span style="color: brightcyan;">&lt;-</span> <span style="color: #ff00ff; font-weight: bold;">function</span>(x, f) { unlist(lapply(split(x, f), mean)) }
<span style="color: #00ff00; font-weight: bold;">f1</span> <span style="color: brightcyan;">&lt;-</span> <span style="color: #ff00ff; font-weight: bold;">function</span>(x, f) { tapply_(x, f, mean) }
<span style="color: #00ff00; font-weight: bold;">f2</span> <span style="color: brightcyan;">&lt;-</span> <span style="color: #ff00ff; font-weight: bold;">function</span>(x, f) { tapply(x, f, mean) }
<span style="color: #00ff00; font-weight: bold;">f3</span> <span style="color: brightcyan;">&lt;-</span> <span style="color: #ff00ff; font-weight: bold;">function</span>(x, f) { by(x, f, mean) }

bench <span style="color: brightcyan;">&lt;-</span> microbenchmark::microbenchmark(
                           f0(x, f), f1(x, f), f2(x, f), f3(x, f),
                           times = 1E4)

print(bench)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgae19f59" class="outline-4">
<h4 id="orgae19f59"><span class="section-number-4">7.2.12.</span> How to fast subset rows corresponding to max value by group?</h4>
<div class="outline-text-4" id="text-7-2-12">
<div class="org-src-container">
<pre class="src src-R"><span style="color: #0000ff;">## </span><span style="color: #0000ff;">Row with maximum `g` for each group `id` in the `bdt` data.table</span>
bdt[bdt[, .I[g == max(g)], by = id]$V1]
</pre>
</div>

<p>
Source: <a href="https://stackoverflow.com/a/16574176/2860744">subset rows corresponding to max value by group using data.table</a>
</p>
</div>
</div>

<div id="outline-container-orge533b42" class="outline-4">
<h4 id="orge533b42"><span class="section-number-4">7.2.13.</span> How to create named vector programatically in one statement?</h4>
<div class="outline-text-4" id="text-7-2-13">
<div class="org-src-container">
<pre class="src src-R">out <span style="color: brightcyan;">&lt;-</span> setNames(c(<span style="color: #ffff00;">"value1"</span>, <span style="color: #ffff00;">"value2"</span>), c(<span style="color: #ffff00;">"name1"</span>, <span style="color: #ffff00;">"name2"</span>))
</pre>
</div>

<p>
Source: <a href="https://stackoverflow.com/a/22428439/2860744">create a numeric vector with names in one statement?</a>
</p>
</div>
</div>

<div id="outline-container-orgafd49cb" class="outline-4">
<h4 id="orgafd49cb"><span class="section-number-4">7.2.14.</span> How to get all function call arguments as a list?</h4>
<div class="outline-text-4" id="text-7-2-14">
<p>
Including ellipsis also!
</p>

<div class="org-src-container">
<pre class="src src-R"><span style="color: #00ff00; font-weight: bold;">f</span> <span style="color: brightcyan;">&lt;-</span> <span style="color: #ff00ff; font-weight: bold;">function</span>(a, b = 2, ...) { c(as.list(environment()), list(...)) }
</pre>
</div>

<p>
Source: <a href="https://stackoverflow.com/a/17244041">get all Parameters as List</a>
</p>
</div>
</div>

<div id="outline-container-orga7a0060" class="outline-4">
<h4 id="orga7a0060"><span class="section-number-4">7.2.15.</span> How to debug an error thrown in a package?</h4>
<div class="outline-text-4" id="text-7-2-15">
<div class="org-src-container">
<pre class="src src-R"><span style="color: brightcyan;">options</span>(error = recover, show.error.locations = <span style="color: brightmagenta;">TRUE</span>, warn = 2)
</pre>
</div>

<p>
Source: <a href="https://stackoverflow.com/a/13456223/2860744">debugging unexpected errors in R &#x2013; how can I find where the
error occurred?</a>
</p>
</div>
</div>

<div id="outline-container-org23b5d1b" class="outline-4">
<h4 id="org23b5d1b"><span class="section-number-4">7.2.16.</span> How to draw a plot with minimal margins?</h4>
<div class="outline-text-4" id="text-7-2-16">
<div class="org-src-container">
<pre class="src src-R"><span style="color: #0000ff;">## </span><span style="color: #0000ff;">oma: Outer  = device margin lines (bltr)</span>
<span style="color: #0000ff;">## </span><span style="color: #0000ff;">mar: Margin = figure margin lines (bltr)</span>
<span style="color: #0000ff;">## </span><span style="color: #0000ff;">mgp:      ? = axis margin lines (title, label, line)</span>

<span style="color: #0000ff;">## </span><span style="color: #0000ff;">No title</span>
opar <span style="color: brightcyan;">&lt;-</span> <span style="color: brightcyan;">par</span>(
  oma = c(0, 0, 0, 0) + .1,
  mar = c(3, 3, 0, 0),
  mgp = c(2, 1, 0)
)

plot(x = 1:10, y = 1:10)

<span style="color: #0000ff;">## </span><span style="color: #0000ff;">No title nor axis labels</span>
opar <span style="color: brightcyan;">&lt;-</span> <span style="color: brightcyan;">par</span>(
  oma = c(0, 0, 0, 0) + .1,
  mar = c(2, 2, 0, 0),
  mgp = c(2, 1, 0)
)

plot(x = 1:10, y = 1:10)
</pre>
</div>
</div>
</div>

<div id="outline-container-org27a0b0b" class="outline-4">
<h4 id="org27a0b0b"><span class="section-number-4">7.2.17.</span> How to check if a value is in an interval?</h4>
<div class="outline-text-4" id="text-7-2-17">
<div class="org-src-container">
<pre class="src src-R"><span style="color: #0000ff;">## </span><span style="color: #0000ff;">x &lt;- 1</span>
<span style="color: #0000ff;">## </span><span style="color: #0000ff;">confint &lt;- c(-0.5, 0.5)</span>
(prod(sign(confint - x)) &lt; 0)
</pre>
</div>

<p>
Source: rickyrick at libera.chat
</p>
</div>
</div>

<div id="outline-container-org2762a38" class="outline-4">
<h4 id="org2762a38"><span class="section-number-4">7.2.18.</span> How to use <code>geom_tile</code> with irregular data?</h4>
<div class="outline-text-4" id="text-7-2-18">
<p>
Note that <code>?geom_tile</code> recommends <code>akima::interp</code>.
</p>

<div class="org-src-container">
<pre class="src src-R">x <span style="color: brightcyan;">&lt;-</span> mtcars$hp <span style="color: #0000ff;">## </span><span style="color: #0000ff;">x-axis</span>
y <span style="color: brightcyan;">&lt;-</span> mtcars$qsec <span style="color: #0000ff;">## </span><span style="color: #0000ff;">y-axis</span>
z <span style="color: brightcyan;">&lt;-</span> mtcars$mpg <span style="color: #0000ff;">## </span><span style="color: #0000ff;">surface color</span>

ak   <span style="color: brightcyan;">&lt;-</span> akima::interp(x, y, z)
DF   <span style="color: brightcyan;">&lt;-</span> expand.grid(ak[1:2])
DF$z <span style="color: brightcyan;">&lt;-</span> ak[[3]]

DF <span style="color: brightcyan;">&lt;-</span> data.frame(expand.grid(ak[1:2]), z = c(ak[[3]]))

ggplot(DF, aes(x, y, fill = z)) +
  geom_tile()
</pre>
</div>

<p>
If the data size is large, constructing the data.frame as follows
might be more efficient.
</p>

<div class="org-src-container">
<pre class="src src-R">DF   <span style="color: brightcyan;">&lt;-</span> expand.grid(ak[1:2])
DF$z <span style="color: brightcyan;">&lt;-</span> ak[[3]]
</pre>
</div>
</div>
</div>

<div id="outline-container-org4007d6f" class="outline-4">
<h4 id="org4007d6f"><span class="section-number-4">7.2.19.</span> How to plot in log scale with base R?</h4>
<div class="outline-text-4" id="text-7-2-19">
<div class="org-src-container">
<pre class="src src-R">plot(exp(1:10), 1:10, log = <span style="color: #ffff00;">"x"</span>)
plot(1:10, exp(1:10), log = <span style="color: #ffff00;">"y"</span>)
plot(exp(1:10), exp(1:10), log = <span style="color: #ffff00;">"xy"</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org7e9d3ea" class="outline-4">
<h4 id="org7e9d3ea"><span class="section-number-4">7.2.20.</span> How to fine tune R plot margins?</h4>
<div class="outline-text-4" id="text-7-2-20">
<ul class="org-ul">
<li><a href="https://www.rstudio.com/wp-content/uploads/2016/10/how-big-is-your-graph.pdf">How Big is Your Graph?</a></li>
</ul>
</div>
</div>

<div id="outline-container-org789403c" class="outline-4">
<h4 id="org789403c"><span class="section-number-4">7.2.21.</span> How to make beautiful plots with base R?</h4>
<div class="outline-text-4" id="text-7-2-21">
<ul class="org-ul">
<li><a href="http://karolis.koncevicius.lt/posts/r_base_plotting_without_wrappers/">R base plotting without wrappers</a></li>
</ul>
</div>
</div>

<div id="outline-container-org4d7be21" class="outline-4">
<h4 id="org4d7be21"><span class="section-number-4">7.2.22.</span> How to improve the look of my rmarkdown HTML document?</h4>
<div class="outline-text-4" id="text-7-2-22">
<p>
Thanks to fendur on #R at libera.chat
</p>

<ul class="org-ul">
<li>Client-side, precomputed dashboard like document:
<ul class="org-ul">
<li>Idea: one <i>chapter</i> contains an image plus some comments</li>
<li>Start with <code>html_document</code></li>
<li>Use <code>.tabset-pills</code> to organize chapters</li>
<li>Use <code>.tabset-fade</code> to make switching smoother</li>
</ul></li>
<li><a href="https://holtzy.github.io/Pimp-my-rmd/">Pimp my RMD: a few tips for R Markdown</a></li>
</ul>

<p>
Below is a quick template I prepared.
</p>

<div class="org-src-container">
<pre class="src src-ascii">---
title: "Barebone dashboard"
date: "`r Sys.Date()`"
output: html_document
---

&lt;style type="text/css"&gt;
.main-container {
   max-width: 100% !important;
}
.title, .author, .date {
  display:inline!important;
}
.nav-pills {
  line-height: 0px !important;
}
.h1 {
 font-size: 16px !important;
}
&lt;/style&gt;

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  echo       = FALSE,
  fig.align  = "center",
  fig.width  = 16,
  fig.height = 8.1,
  out.height = "80%"
)
```

# {.tabset .tabset-fade .tabset-pills}

## Precipitation per year

```{r}
plot(Nile, col = "darkgreen", lwd = 2, log = "y")
title(main = "Annual flow of the river", adj = 1, line = .5)
```

1. This is a full-page wide picture
2. Line 2
3. Line 3
4. Line 4
5. Line 5

## MPG explained

```{r}
par(mfrow = c(1, 2))
plot(mtcars$mpg, mtcars$drat)
plot(mtcars$mpg, mtcars$wt)
```

1. This is a full-page side-by-side picture
2. Line 2
3. Line 3
4. Line 4
5. Line 5

## Species and width

```{r fig.width = 8.1, fig.height = 8.1}
pairs(iris[, 1:3], col = iris$Species, bg = iris$Species, pch = 21)
```

1. This is a full-page square picture
2. Line 2
3. Line 3
4. Line 4
5. Line 5
</pre>
</div>
</div>
</div>

<div id="outline-container-orge11aac3" class="outline-4">
<h4 id="orge11aac3"><span class="section-number-4">7.2.23.</span> Resources</h4>
<div class="outline-text-4" id="text-7-2-23">
<ul class="org-ul">
<li><a href="https://pj.freefaculty.org/R/Rtips.html">Rtips</a></li>
<li><a href="http://karolis.koncevicius.lt/posts/collection_of_simple_r_shortcuts/">A Collection of Simple R Shortcuts</a></li>
<li><a href="https://csgillespie.github.io/efficientR/set-up.html#blas-and-alternative-r-interpreters">Efficient R programming</a></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org347126a" class="outline-3">
<h3 id="org347126a"><span class="section-number-3">7.3.</span> RStudio</h3>
<div class="outline-text-3" id="text-7-3">
</div>
<div id="outline-container-org37f3a31" class="outline-4">
<h4 id="org37f3a31"><span class="section-number-4">7.3.1.</span> Should .Rproj files be added to .gitignore?</h4>
<div class="outline-text-4" id="text-7-3-1">
<p>
RStudio general recommendation is to include .Rproj file in the
repository, i.e., do not ignore it
</p>

<p>
Source: <a href="https://community.rstudio.com/t/should-rproj-files-be-added-to-gitignore/1269/4">should *.Rproj files be added to .gitignore?</a>
</p>
</div>
</div>

<div id="outline-container-org47b803f" class="outline-4">
<h4 id="org47b803f"><span class="section-number-4">7.3.2.</span> How to order lines alphabetically?</h4>
<div class="outline-text-4" id="text-7-3-2">
<p>
?
</p>
</div>
</div>

<div id="outline-container-org69a7935" class="outline-4">
<h4 id="org69a7935"><span class="section-number-4">7.3.3.</span> How to align assignment or equal symbols across lines?</h4>
<div class="outline-text-4" id="text-7-3-3">
<ul class="org-ul">
<li><a href="https://github.com/seasmith/AlignAssign">AlignAssign</a></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org9155c7a" class="outline-3">
<h3 id="org9155c7a"><span class="section-number-3">7.4.</span> Emacs Speaks Statistics</h3>
<div class="outline-text-3" id="text-7-4">
</div>
<div id="outline-container-org8dc2548" class="outline-4">
<h4 id="org8dc2548"><span class="section-number-4">7.4.1.</span> How to navigate code and jump around?</h4>
<div class="outline-text-4" id="text-7-4-1">
<p>
Use <code>ess-build-tags-for-directory</code> (<code>C-c C-e t</code> and <code>C-c C-e C-t</code>)
to build the tags, then <code>xref-find-definitions</code> (<code>M-.</code>) to look up
a definition via <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Xref.html">Xref</a>.
</p>

<p>
Source: <a href="https://emacs.stackexchange.com/questions/45561/how-to-jump-to-r-source-code-with-ess">How to jump to R source code with ESS?</a>
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-org0626b69" class="outline-2">
<h2 id="org0626b69"><span class="section-number-2">8.</span> Stan programming</h2>
<div class="outline-text-2" id="text-8">
</div>
<div id="outline-container-orgeccc86b" class="outline-3">
<h3 id="orgeccc86b"><span class="section-number-3">8.1.</span> Stan</h3>
<div class="outline-text-3" id="text-8-1">
</div>
<div id="outline-container-org0f4c964" class="outline-4">
<h4 id="org0f4c964"><span class="section-number-4">8.1.1.</span> How do I choose between <code>transformed parameters</code> vs <code>model</code> blocks?</h4>
<div class="outline-text-4" id="text-8-1-1">
<ul class="org-ul">
<li>Variables in the <code>transformed parameters</code> blocks
<ol class="org-ol">
<li>Can have constraints for error checking</li>
<li>Are global
<ol class="org-ol">
<li>can be accessed from the <code>generated quantities</code> block</li>
<li>are part of the output by default</li>
</ol></li>
</ol></li>
</ul>
</div>
</div>
</div>
</div>

<div id="outline-container-orgaf32ce2" class="outline-2">
<h2 id="orgaf32ce2"><span class="section-number-2">9.</span> Data science</h2>
<div class="outline-text-2" id="text-9">
</div>
<div id="outline-container-org595194d" class="outline-3">
<h3 id="org595194d"><span class="section-number-3">9.1.</span> Data backup</h3>
<div class="outline-text-3" id="text-9-1">
</div>
<div id="outline-container-org54c38aa" class="outline-4">
<h4 id="org54c38aa"><span class="section-number-4">9.1.1.</span> What software backup should I use?</h4>
<div class="outline-text-4" id="text-9-1-1">
<ul class="org-ul">
<li><a href="https://www.borgbackup.org/">Borg</a>: Deduplicating archiver with compression and encryption</li>
</ul>
</div>
</div>

<div id="outline-container-orgd7db6f7" class="outline-4">
<h4 id="orgd7db6f7"><span class="section-number-4">9.1.2.</span> How to mark a folder not to be backed up?</h4>
<div class="outline-text-4" id="text-9-1-2">
<ul class="org-ul">
<li><a href="https://bford.info/cachedir/">Cache Directory Tagging Specification</a>: avoid backing up,
archiving, or otherwise unnecessarily copying directories</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org04d95f8" class="outline-3">
<h3 id="org04d95f8"><span class="section-number-3">9.2.</span> Data processing</h3>
<div class="outline-text-3" id="text-9-2">
</div>
<div id="outline-container-org41f5222" class="outline-4">
<h4 id="org41f5222"><span class="section-number-4">9.2.1.</span> GNU Make</h4>
<div class="outline-text-4" id="text-9-2-1">
<ul class="org-ul">
<li><a href="https://kbroman.org/minimal_make/">Minimal make file</a></li>
<li><a href="https://stackoverflow.com/a/2214593/2860744">Passing arguments to make</a></li>
<li><a href="https://www.gnu.org/software/make/manual/make.html#Multiple-Targets">Rules with grouped targets</a>: when one script produces more than one
target</li>
<li><a href="https://www.gnu.org/software/make/manual/make.html#Automatic-Variables">Automatic variables</a>: handy to write recipes</li>
<li><a href="https://swcarpentry.github.io/make-novice/">Automation and make</a>: for analysis, visualization and papers</li>
<li><a href="https://swcarpentry.github.io/make-novice/08-self-doc/index.html">Self-documenting makefiles</a></li>
</ul>
</div>
</div>

<div id="outline-container-org7d59a5a" class="outline-4">
<h4 id="org7d59a5a"><span class="section-number-4">9.2.2.</span> Pipeline automation</h4>
<div class="outline-text-4" id="text-9-2-2">
<ul class="org-ul">
<li><a href="https://stat545.com/automating-pipeline.html">Automating data-analysis pipelines</a></li>
<li><a href="https://github.com/pditommaso/awesome-pipeline">Awesome pipeline</a>: curated list of awesome pipeline toolkits</li>
</ul>
</div>
</div>

<div id="outline-container-org995ea1f" class="outline-4">
<h4 id="org995ea1f"><span class="section-number-4">9.2.3.</span> How to view tabular data?</h4>
<div class="outline-text-4" id="text-9-2-3">
<ul class="org-ul">
<li><a href="https://aur.archlinux.org/pspg.git">Tabular data pager</a>: works fine with CSV files too!</li>
<li><a href="https://github.com/saulpw/visidata">VisiData</a>: lightning fast tabular data exploring, arranging, plotting</li>
</ul>
</div>
</div>

<div id="outline-container-org18ae0b7" class="outline-4">
<h4 id="org18ae0b7"><span class="section-number-4">9.2.4.</span> How to work with collaborators who use spreadsheets?</h4>
<div class="outline-text-4" id="text-9-2-4">
<ul class="org-ul">
<li><a href="https://doi.org/10.1080/00031305.2017.1375989">Data Organization in Spreadsheets</a></li>
</ul>
</div>
</div>

<div id="outline-container-orgaceec1e" class="outline-4">
<h4 id="orgaceec1e"><span class="section-number-4">9.2.5.</span> ETL cycle</h4>
<div class="outline-text-4" id="text-9-2-5">
<ol class="org-ol">
<li>Cycle initiation</li>
<li>Build reference data</li>
<li>Extract (from sources)</li>
<li>Validate</li>
<li>Transform (clean, apply business rules, check for data integrity, create aggregates or disaggregates)</li>
<li>Stage (load into staging tables, if used)</li>
<li>Audit reports (for example, on compliance with business rules. Also, in case of failure, helps to diagnose/repair)</li>
<li>Publish (to target tables)</li>
<li>Archive</li>
</ol>

<p>
Source: <a href="https://en.wikipedia.org/wiki/Extract,_transform,_load#Real-life_ETL_cycle">Real-life ETL cycle</a>
</p>
</div>

<ol class="org-ol">
<li><a id="org48c501a"></a>ETL Template<br />
<div class="outline-text-5" id="text-9-2-5-1">
<ul class="org-ul">
<li>Type of tasks
<ul class="org-ul">
<li>Data loading
<ul class="org-ul">
<li>Keep many small units as principle</li>
</ul></li>
<li>Data munging
<ul class="org-ul">
<li>Munge many small units in parallel</li>
</ul></li>
<li>Data processing &#x2013; computationally intensive PEA
<ul class="org-ul">
<li>Run tasks that need many data units (prepare)</li>
<li><p>
Run tasks that need one data unit only in parallel (execute)
</p>
<ul class="org-ul">
<li>One script with command argument line?</li>
<li>Makefile call the script?</li>
<li>One shell script to call makefile?</li>
</ul>
<p>
<b>*</b> TODO This needs to be figured out
</p></li>
<li>Run tasks that need many data units (aggregate)</li>
</ul></li>
<li>Data storing
<ul class="org-ul">
<li>Write many small units to disk</li>
<li>Write aggregates for each small data unit or together?</li>
</ul></li>
</ul></li>
</ul>
</div>
</li>
</ol>
</div>

<div id="outline-container-orge056820" class="outline-4">
<h4 id="orge056820"><span class="section-number-4">9.2.6.</span> Workflow for statistical analysis and report writing</h4>
<div class="outline-text-4" id="text-9-2-6">
<ul class="org-ul">
<li><a href="https://stackoverflow.com/questions/1429907/workflow-for-statistical-analysis-and-report-writing">Workflow for statistical analysis and report writing</a></li>
<li><a href="https://github.com/ropensci/rrrpkg">What is a research compendium for reproducible research</a></li>
<li><a href="https://books.ropensci.org/drake/similar-work.html">Drake documentation</a></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org18fe4dd" class="outline-3">
<h3 id="org18fe4dd"><span class="section-number-3">9.3.</span> A typical workflow</h3>
<div class="outline-text-3" id="text-9-3">
<ol class="org-ol">
<li>For each dataset
<ol class="org-ol">
<li>Acquire raw data</li>
<li>Munge data</li>
<li>Run many independent</li>
</ol></li>
</ol>
</div>
</div>
<div id="outline-container-orgd983c35" class="outline-3">
<h3 id="orgd983c35"><span class="section-number-3">9.4.</span> Data visualization</h3>
<div class="outline-text-3" id="text-9-4">
</div>
<div id="outline-container-orgcbaac28" class="outline-4">
<h4 id="orgcbaac28"><span class="section-number-4">9.4.1.</span> Color palette</h4>
<div class="outline-text-4" id="text-9-4-1">
<ul class="org-ul">
<li><a href="https://ux.stackexchange.com/questions/94696/color-palette-for-all-types-of-color-blindness">Color Palette for All types of Color Blindness</a></li>
<li><a href="http://mkweb.bcgsc.ca/colorblind/">Color-palette for color blindness</a>: maintain perceptual luminance
uniformity in color blind space</li>
<li><a href="https://jfly.uni-koeln.de/color/#pallet">Color Universal Design</a>: set of colors that is unambiguous both to
colorblinds and non-colorblinds</li>
</ul>
</div>
</div>

<div id="outline-container-orgb78f32f" class="outline-4">
<h4 id="orgb78f32f"><span class="section-number-4">9.4.2.</span> Resources</h4>
<div class="outline-text-4" id="text-9-4-2">
<ul class="org-ul">
<li><a href="https://blog.datawrapper.de/colors/">What to consider when choosing colors for data visualization</a></li>
<li><a href="https://www.data-to-viz.com/#explore">Data-to-viz</a>: visualization decision tree guide</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org1935a4a" class="outline-3">
<h3 id="org1935a4a"><span class="section-number-3">9.5.</span> High power computing</h3>
<div class="outline-text-3" id="text-9-5">
</div>
<div id="outline-container-org7ecec6b" class="outline-4">
<h4 id="org7ecec6b"><span class="section-number-4">9.5.1.</span> How to nicely list all my jobs in Slurm?</h4>
<div class="outline-text-4" id="text-9-5-1">
<div class="org-src-container">
<pre class="src src-shell">watch -d squeue --me --format=<span style="color: #ffff00;">\"</span>%.18i %.18P %.32j %.8u %.2t <span style="color: #ffff00;">\|</span> %.10M <span style="color: #ffff00;">\|</span> %.10l <span style="color: #ffff00;">\|</span> %.19S <span style="color: #ffff00;">\|</span> %.6D %20Y %R<span style="color: #ffff00;">\"</span> --sort=i
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org5716275" class="outline-3">
<h3 id="org5716275"><span class="section-number-3">9.6.</span> Naming convention</h3>
<div class="outline-text-3" id="text-9-6">
</div>
<div id="outline-container-org6153ea8" class="outline-4">
<h4 id="org6153ea8"><span class="section-number-4">9.6.1.</span> Common guidelines</h4>
<div class="outline-text-4" id="text-9-6-1">
<ul class="org-ul">
<li>Name things mainly for their role, sometimes for their type</li>
<li>Variable names follow mathematical notation only in low-level
functions, use meaningful name for user facing variables</li>
<li>Use unabbreviated verbs for function names</li>
<li>Keep abbreviations between 3 and 4 chars</li>
</ul>
</div>
</div>

<div id="outline-container-org5443029" class="outline-4">
<h4 id="org5443029"><span class="section-number-4">9.6.2.</span> Keywords</h4>
<div class="outline-text-4" id="text-9-6-2">
<p>
<b>Modeling</b>
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left"><code>ou</code></td>
<td class="org-left">Observational unit</td>
</tr>

<tr>
<td class="org-left"><code>xu</code></td>
<td class="org-left">Experimental unit</td>
</tr>

<tr>
<td class="org-left"><code>sim</code></td>
<td class="org-left">Simulated/simulations</td>
</tr>

<tr>
<td class="org-left"><code>rsts</code></td>
<td class="org-left">Restars</td>
</tr>

<tr>
<td class="org-left"><code>init</code></td>
<td class="org-left">Initialize/initialization</td>
</tr>

<tr>
<td class="org-left"><code>pars</code></td>
<td class="org-left">A vector of parameter</td>
</tr>

<tr>
<td class="org-left"><code>fix</code></td>
<td class="org-left">Fixed values</td>
</tr>

<tr>
<td class="org-left"><code>kwn</code></td>
<td class="org-left">Known values</td>
</tr>

<tr>
<td class="org-left"><code>val</code></td>
<td class="org-left">Validation</td>
</tr>

<tr>
<td class="org-left"><code>opt</code></td>
<td class="org-left">Optima (obtained with optimization)</td>
</tr>

<tr>
<td class="org-left"><code>fit</code></td>
<td class="org-left">Fit</td>
</tr>

<tr>
<td class="org-left"><code>prd</code></td>
<td class="org-left">Predicted</td>
</tr>
</tbody>
</table>

<p>
<b>Cross-validation</b>
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">oos</td>
<td class="org-left">Out of sample</td>
</tr>

<tr>
<td class="org-left">ins</td>
<td class="org-left">In sample</td>
</tr>

<tr>
<td class="org-left">ios</td>
<td class="org-left">In and out of sample</td>
</tr>

<tr>
<td class="org-left">idx</td>
<td class="org-left">Index</td>
</tr>

<tr>
<td class="org-left">ind</td>
<td class="org-left">Indicator (boolean, true or false)</td>
</tr>

<tr>
<td class="org-left">fold</td>
<td class="org-left">Fold (as in K-fold CV)</td>
</tr>
</tbody>
</table>

<p>
<b>Object types</b>
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">Str</td>
<td class="org-left">String</td>
</tr>

<tr>
<td class="org-left">Ls</td>
<td class="org-left">List</td>
</tr>

<tr>
<td class="org-left">Li</td>
<td class="org-left">List item</td>
</tr>

<tr>
<td class="org-left">Mat</td>
<td class="org-left">Matrix</td>
</tr>

<tr>
<td class="org-left">Vec</td>
<td class="org-left">Vector</td>
</tr>

<tr>
<td class="org-left">Fun</td>
<td class="org-left">Function</td>
</tr>

<tr>
<td class="org-left">DF</td>
<td class="org-left">Data frame / data.table</td>
</tr>

<tr>
<td class="org-left">LDF</td>
<td class="org-left">Long data.frame / data.table</td>
</tr>

<tr>
<td class="org-left">WDF</td>
<td class="org-left">Wide data.frame / data.table (might have more than one)</td>
</tr>

<tr>
<td class="org-left">xi</td>
<td class="org-left">A scalar (must be a scalar)</td>
</tr>

<tr>
<td class="org-left">xs</td>
<td class="org-left">A vector (must be a vector)</td>
</tr>

<tr>
<td class="org-left">x</td>
<td class="org-left">A scalar and/or a vector (both should work)</td>
</tr>

<tr>
<td class="org-left">X</td>
<td class="org-left">A vector or matrix (both should work)</td>
</tr>

<tr>
<td class="org-left">Bit</td>
<td class="org-left">A scalar, vector, or matrix bitmask</td>
</tr>
</tbody>
</table>

<p>
<b>Transformations</b>
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">sc</td>
<td class="org-left">Scaled</td>
</tr>

<tr>
<td class="org-left">uc</td>
<td class="org-left">Unscaled? maybe `nt` for natural? `og` for original?</td>
</tr>

<tr>
<td class="org-left">svd</td>
<td class="org-left">guess what :)</td>
</tr>

<tr>
<td class="org-left">pca</td>
<td class="org-left">idem</td>
</tr>
</tbody>
</table>

<p>
<b>Other</b>
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">id</td>
<td class="org-left">Identification code</td>
</tr>

<tr>
<td class="org-left">ET</td>
<td class="org-left">Elapsed time</td>
</tr>

<tr>
<td class="org-left">seed</td>
<td class="org-left">Seed number</td>
</tr>

<tr>
<td class="org-left">hash</td>
<td class="org-left">For a hash (if it's an id, use id instead)</td>
</tr>
</tbody>
</table>

<p>
<b>Statistics</b>
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">med</td>
<td class="org-left">Median</td>
</tr>

<tr>
<td class="org-left">mean</td>
<td class="org-left">Mean</td>
</tr>

<tr>
<td class="org-left">var</td>
<td class="org-left">Variance</td>
</tr>

<tr>
<td class="org-left">cov</td>
<td class="org-left">Covariance</td>
</tr>

<tr>
<td class="org-left">cor</td>
<td class="org-left">Correlation</td>
</tr>

<tr>
<td class="org-left">wt</td>
<td class="org-left">Weight (or ws and wi)</td>
</tr>

<tr>
<td class="org-left">lsc</td>
<td class="org-left">Length-scale</td>
</tr>

<tr>
<td class="org-left">qi</td>
<td class="org-left">Quantile</td>
</tr>

<tr>
<td class="org-left">qs</td>
<td class="org-left">Vector of quantiles</td>
</tr>

<tr>
<td class="org-left">sigma2</td>
<td class="org-left">Use 2 instead of Sq o.o</td>
</tr>

<tr>
<td class="org-left">ll</td>
<td class="org-left">Log-likelihood</td>
</tr>

<tr>
<td class="org-left">hess</td>
<td class="org-left">Hessian matrix</td>
</tr>

<tr>
<td class="org-left">mse</td>
<td class="org-left">Mean square error</td>
</tr>

<tr>
<td class="org-left">rmse</td>
<td class="org-left">Root mean square error</td>
</tr>
</tbody>
</table>

<p>
<b>Measurement units</b>
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">Bm</td>
<td class="org-left">Biomass</td>
</tr>

<tr>
<td class="org-left">KgHa</td>
<td class="org-left">Kilogram per hectare</td>
</tr>

<tr>
<td class="org-left">MgHa</td>
<td class="org-left">Megamgram per hectare</td>
</tr>

<tr>
<td class="org-left">BuAc</td>
<td class="org-left">Bushels per acre</td>
</tr>

<tr>
<td class="org-left">Temp</td>
<td class="org-left">Temperature</td>
</tr>

<tr>
<td class="org-left">El</td>
<td class="org-left">Elevation</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>

<div id="outline-container-org725462c" class="outline-2">
<h2 id="org725462c"><span class="section-number-2">10.</span> Statistics</h2>
<div class="outline-text-2" id="text-10">
</div>
<div id="outline-container-orgfc7f475" class="outline-3">
<h3 id="orgfc7f475"><span class="section-number-3">10.1.</span> Statistics</h3>
<div class="outline-text-3" id="text-10-1">
</div>
<div id="outline-container-orgc49717f" class="outline-4">
<h4 id="orgc49717f"><span class="section-number-4">10.1.1.</span> Principal Component Regression</h4>
<div class="outline-text-4" id="text-10-1-1">
<p>
Let \(\mathbf{T} = \mathbf{X} \mathbf{W}\) for principal component
score matrix \(\mathbf{T}\) and loading matrix \(\mathbf{W}\). Set the
models \(Y = \mathbf{X} \mathbf{\beta} + \mathbf{\varepsilon}\) and
\(Y = \mathbf{T} \mathbf{\beta}_T + \mathbf{\varepsilon}\). Then,
\(\mathbf{X} \mathbf{\beta} = \mathbf{T} \mathbf{\beta}_T \iff
   \mathbf{\beta} = \mathbf{W} \mathbf{\beta}_T\).
</p>
</div>
</div>

<div id="outline-container-org9d8e595" class="outline-4">
<h4 id="org9d8e595"><span class="section-number-4">10.1.2.</span> How to revert SVD?</h4>
<div class="outline-text-4" id="text-10-1-2">
<ul class="org-ul">
<li><a href="https://stats.stackexchange.com/a/229093/31243">How to reverse PCA and reconstruct original variables from
several principal components?</a></li>
<li><a href="https://stats.stackexchange.com/a/134283/31243">Relationship between SVD and PCA. How to use SVD to perform PCA?</a></li>
</ul>
</div>
</div>

<div id="outline-container-orgd24f828" class="outline-4">
<h4 id="orgd24f828"><span class="section-number-4">10.1.3.</span> How to find which variables are collinear?</h4>
<div class="outline-text-4" id="text-10-1-3">
<p>
Look at the tail of the QR decomposition pivot vector (rickyrick at
libera.chat)
</p>

<ul class="org-ul">
<li><a href="https://stats.stackexchange.com/a/476216/31243">How to identify which variables are collinear in a singul&#x2026;</a></li>
<li><a href="https://en.wikipedia.org/wiki/QR_decomposition#Column_pivoting">QR decomposition - Column pivoting</a></li>
</ul>
</div>
</div>

<div id="outline-container-org2d0eb7f" class="outline-4">
<h4 id="org2d0eb7f"><span class="section-number-4">10.1.4.</span> How to compute the Cressie and Hawkins (1980) robust estimator?</h4>
<div class="outline-text-4" id="text-10-1-4">
<p>
Cressie and Hawkins (1980) found that the fourth-root of χ1 has a
skewness of 0.08 and a kurtosis of 2.48 (compared with 0 and 3 for
the Gaussian distribution). Estimates of location, such as the mean
and the median, can then be applied to sqrt(X). Finally, these
estimates can be raised to the 4th power and adjusted for
bias. Consider the <i>square-root-differences cloud</i> for
visualization.
</p>

<ul class="org-ul">
<li>Source: <a href="https://www.doi.org/10.1002/9781119115151">10.1002/9781119115151</a> eq. (2.2.8)</li>
</ul>
</div>
</div>

<div id="outline-container-org3e99893" class="outline-4">
<h4 id="org3e99893"><span class="section-number-4">10.1.5.</span> Priors</h4>
<div class="outline-text-4" id="text-10-1-5">
<ul class="org-ul">
<li><a href="http://www.stats.org.uk/priors/noninformative/YangBerger1998.pdf">A Catalog of Noninformative Priors</a></li>
</ul>
</div>
</div>

<div id="outline-container-org20553f6" class="outline-4">
<h4 id="org20553f6"><span class="section-number-4">10.1.6.</span> MCMC</h4>
<div class="outline-text-4" id="text-10-1-6">
<ul class="org-ul">
<li><a href="http://users.stat.umn.edu/~geyer/mcmc/one.html">One long run in MCMC</a>: If you can't get a good answer with one
long run, then you can't get a good answer with many short runs
either.</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-orge8f6c4c" class="outline-3">
<h3 id="orge8f6c4c"><span class="section-number-3">10.2.</span> Gaussian processes</h3>
<div class="outline-text-3" id="text-10-2">
</div>
<div id="outline-container-org054d684" class="outline-4">
<h4 id="org054d684"><span class="section-number-4">10.2.1.</span> Is the mean function a Gaussian process uninteresting?</h4>
<div class="outline-text-4" id="text-10-2-1">
<ul class="org-ul">
<li><a href="https://www.jmlr.org/papers/volume7/micchelli06a/micchelli06a.pdf">Universal kernels</a> should be able to approximate any continuous
functions on a compact subset, making a mean function nonessential</li>
<li>The mean function may not live in the space of functions being
modeled</li>
<li>A mean function can help with extrapolation when using a
nonperiodic kernel</li>
</ul>

<p>
Source: <a href="https://stats.stackexchange.com/q/222238/31243">Why is the mean function in Gaussian Process uninteresting?</a>
</p>
</div>
</div>

<div id="outline-container-orgb1af89f" class="outline-4">
<h4 id="orgb1af89f"><span class="section-number-4">10.2.2.</span> Is the derivative of a Gaussian process another Gaussian process?</h4>
<div class="outline-text-4" id="text-10-2-2">
<p>
Since differentiation is a linear operator, the derivative of a
Gaussian process is another Gaussian process.
</p>

<p>
Source:
</p>
<ul class="org-ul">
<li><a href="http://gaussianprocess.org/gpml/chapters/RW9.pdf">Rasmussen and Williams (2006, section 9.4</a>)</li>
<li><a href="https://stats.stackexchange.com/a/180886/31243">Derivative of a Gaussian Process</a></li>
</ul>
</div>
</div>

<div id="outline-container-org1d4351a" class="outline-4">
<h4 id="org1d4351a"><span class="section-number-4">10.2.3.</span> Is the integral of a Gaussian process another Gaussian process?</h4>
<div class="outline-text-4" id="text-10-2-3">
<p>
If all finite linear combinations \(\sum_i a_i X_{t_i}\) are Gaussian
and the process is continuous, \(Y_t = \int_0^t X_s \, \mathrm{d}s\) is a
Gaussian process.
</p>

<ul class="org-ul">
<li><a href="https://math.stackexchange.com/a/1471678/113775">Integral of a Gaussian process</a> (this result is more general)</li>
<li><a href="https://math.stackexchange.com/a/243977/113775">Integral of Brownian motion is Gaussian?</a></li>
</ul>
</div>
</div>

<div id="outline-container-orgeed5489" class="outline-4">
<h4 id="orgeed5489"><span class="section-number-4">10.2.4.</span> Software</h4>
<div class="outline-text-4" id="text-10-2-4">
<ul class="org-ul">
<li><a href="https://github.com/alan-turing-institute/mogp-emulator">Multi-Output GP Emulator: fit, predict, optimize, tools for
experimental design, dimension reduction, and calibration.</a></li>
</ul>
</div>
</div>

<div id="outline-container-org4da2698" class="outline-4">
<h4 id="org4da2698"><span class="section-number-4">10.2.5.</span> Resources</h4>
<div class="outline-text-4" id="text-10-2-5">
<ul class="org-ul">
<li><a href="https://mlatcl.github.io/gpss/">Gaussian Process Summer Schoool Lectures</a></li>
</ul>
</div>
</div>
</div>
</div>

<div id="outline-container-org0055948" class="outline-2">
<h2 id="org0055948"><span class="section-number-2">11.</span> Mathematics</h2>
<div class="outline-text-2" id="text-11">
</div>
<div id="outline-container-org0690b24" class="outline-3">
<h3 id="org0690b24"><span class="section-number-3">11.1.</span> Math</h3>
<div class="outline-text-3" id="text-11-1">
</div>
<div id="outline-container-org65e1770" class="outline-4">
<h4 id="org65e1770"><span class="section-number-4">11.1.1.</span> How to choose \(u\) and \(dv\) in integration by parts?</h4>
<div class="outline-text-4" id="text-11-1-1">
<p>
We pick \(u\) and \(dv\) from an expression of the form \(\int f(x) g(x) dx\). We
need to differentiate \(u\) and integrate \(dv\).
</p>

<ul class="org-ul">
<li>Consider \(dv = f\) for \(f\) the most complex expression in the
integrand among all those with known integral</li>
<li>Consider \(u = f\) if \(\int f dx\) is not known</li>
<li>Consider \(u = f\) when \(df\) is nicer to work with than \(\int f\)</li>
<li>Typical choices are \(u = f\) when \(f\) is a logarithmic, inverse
trigonometric, algebraic, trigonometric, or exponential function.</li>

<li>Source:</li>
<li><a href="https://math.stackexchange.com/a/2123294/113775">Methods for choosing \(u\) and \(dv\) when integrating by parts? (1)</a></li>
<li><a href="https://math.stackexchange.com/a/2123477/113775">Methods for choosing \(u\) and \(dv\) when integrating by parts? (2)</a></li>
<li><a href="https://en.wikipedia.org/wiki/Integration_by_parts#LIATE_rule">Integration by parts - Wikipedia</a></li>
</ul>
</div>
</div>

<div id="outline-container-org66d9ee4" class="outline-4">
<h4 id="org66d9ee4"><span class="section-number-4">11.1.2.</span> Linear algebra</h4>
<div class="outline-text-4" id="text-11-1-2">
<ul class="org-ul">
<li><a href="http://www2.imm.dtu.dk/pubdb/edoc/imm3274.pdf">The Matrix Cookbook</a>: collection of linear algebra facts</li>
<li><a href="http://www.matrixcalculus.org/">Matrix calculus</a>: symbolic vector and matrix derivatives</li>
<li><a href="http://www.ee.ic.ac.uk/hp/staff/dmb/matrix/intro.html">The Matrix Reference Manual</a>: reference information about linear
algebra and the properties of real and complex matrices.</li>
<li><a href="https://tminka.github.io/papers/matrix/minka-matrix.pdf">Old and New Matrix Algebra Useful for Statistics</a>: large number of
matrix identities.</li>
<li><a href="https://cs.nyu.edu/~roweis/notes.html">Useful Matrix and Gaussian formulae</a>: reference sheets of useful
matrix and Gaussian formulae.</li>
</ul>
</div>
</div>

<div id="outline-container-orgb421516" class="outline-4">
<h4 id="orgb421516"><span class="section-number-4">11.1.3.</span> Optimization</h4>
<div class="outline-text-4" id="text-11-1-3">
<ul class="org-ul">
<li><a href="http://www.geno-project.org/">GENO</a>: optimization solver code generator</li>
</ul>
</div>
</div>

<div id="outline-container-org8ac9387" class="outline-4">
<h4 id="org8ac9387"><span class="section-number-4">11.1.4.</span> Other references</h4>
<div class="outline-text-4" id="text-11-1-4">
<ul class="org-ul">
<li><a href="https://en.wikipedia.org/wiki/List_of_limits">List of limits</a></li>
<li><a href="https://en.wikipedia.org/wiki/List_of_logarithmic_identities">List of logarithmic identities</a></li>
</ul>
</div>
</div>
</div>
</div>

<div id="outline-container-orga1971c6" class="outline-2">
<h2 id="orga1971c6"><span class="section-number-2">12.</span> Science</h2>
<div class="outline-text-2" id="text-12">
</div>
<div id="outline-container-org48058e9" class="outline-3">
<h3 id="org48058e9"><span class="section-number-3">12.1.</span> Scientific communication</h3>
<div class="outline-text-3" id="text-12-1">
<p>
Communication is as hard as it gets. There's a trade-off between
message length, precision, ease of reading, and understandability. I
thrive for short and precise sentences that are easy to digest that
are modular yet feel complete. Here's a couple notes for better writting.
</p>
</div>

<div id="outline-container-orgfed5ba6" class="outline-4">
<h4 id="orgfed5ba6"><span class="section-number-4">12.1.1.</span> General resources</h4>
<div class="outline-text-4" id="text-12-1-1">
<ul class="org-ul">
<li>The Elements of Style by Strunk, W., Jr. and White, E.B. An
opinionated style guide.</li>
<li>Garner's Modern American Usage by Bryan A. Garner.</li>
<li>English for Writing Research Papers by Adrian Wallwork</li>
<li><a href="http://proselint.com/">proselint</a>: whisper suggestions on how to improve your prose, see
<a href="http://proselint.com/checks/">what it looks for</a>.</li>
</ul>
</div>
</div>

<div id="outline-container-orgb5d86fe" class="outline-4">
<h4 id="orgb5d86fe"><span class="section-number-4">12.1.2.</span> Academic phrases</h4>
<div class="outline-text-4" id="text-12-1-2">
<ul class="org-ul">
<li><a href="https://melpa.org/#/academic-phrases">academic-phrases</a> Emacs package</li>
<li>600 academic phrases from <a href="https://www.springer.com/gb/book/9783319260921">English for Writing Research Papers</a></li>
</ul>
</div>
</div>

<div id="outline-container-org73f4a32" class="outline-4">
<h4 id="org73f4a32"><span class="section-number-4">12.1.3.</span> No adjectives allowed</h4>
<div class="outline-text-4" id="text-12-1-3">
<ul class="org-ul">
<li>Good, best, better: in what sense?</li>
<li>Difficult: what are you trying to say more precisely? What's the
complexity?</li>
</ul>
</div>
</div>

<div id="outline-container-org3d58ad8" class="outline-4">
<h4 id="org3d58ad8"><span class="section-number-4">12.1.4.</span> Use technical terms</h4>
<div class="outline-text-4" id="text-12-1-4">
<ul class="org-ul">
<li>List of technical names used frequently and short sentences.</li>
<li>Emulator, surrogate, meta-model, statistical model <span class="underline">versus</span>
computer experiment, computer model, mechanistic model, physical
model, climate model, what have you.</li>
</ul>
</div>
</div>

<div id="outline-container-orga81d409" class="outline-4">
<h4 id="orga81d409"><span class="section-number-4">12.1.5.</span> Repeat technical terms, no synonyms</h4>
<div class="outline-text-4" id="text-12-1-5">
<ul class="org-ul">
<li>Prefer repeating a technical term in the same sentence, or a
sequence of sentences, rather than using synonyms that are not
defined.</li>
</ul>
</div>
</div>

<div id="outline-container-org0282c7a" class="outline-4">
<h4 id="org0282c7a"><span class="section-number-4">12.1.6.</span> Repeat the technical terms when in doubt</h4>
<div class="outline-text-4" id="text-12-1-6">
<p>
Yeah, it sounds weird to be repetitive and I sometimes feel that I
keep repeting myself too much. As a reader, though, I sometimes
wish the writter would be more <span class="underline">precise</span> even at the price of
repetition. Even thought a section might be about a specific
density function (e.g., predictive density), make sure that in
every sentence it is obvious that you are referring to that
density and not to any of the dozen densities that a model have
and are highly connected to the density you are talking about.
</p>
</div>
</div>

<div id="outline-container-org3bc2663" class="outline-4">
<h4 id="org3bc2663"><span class="section-number-4">12.1.7.</span> Attributive nouns</h4>
<div class="outline-text-4" id="text-12-1-7">
<p>
They are tough to beat! In most situations, I prefer an extensive
use of attributive nouns. Be ware they grow too big too often; I
sometimes break a really long chain of nouns into two smaller
attribute noun clauses.
</p>

<p>
Compare <i>the benefit of the parametrization that we propose for
this model</i> versus <i>the proposed model parametrization benefit</i>.
</p>
</div>
</div>

<div id="outline-container-orgf3047c0" class="outline-4">
<h4 id="orgf3047c0"><span class="section-number-4">12.1.8.</span> Prefer short precise terms over phrases</h4>
<div class="outline-text-4" id="text-12-1-8">
<ul class="org-ul">
<li><i>multiple</i> instead of <i>more than one</i></li>
</ul>
</div>
</div>

<div id="outline-container-orgf8cebf7" class="outline-4">
<h4 id="orgf8cebf7"><span class="section-number-4">12.1.9.</span> My own common tics to grep for</h4>
<div class="outline-text-4" id="text-12-1-9">
<ul class="org-ul">
<li>No dash when using the wise suffix, e.g., elementwise instead of
element-wise, subspace instead of sub-space</li>
<li>Closed compound nouns, e.g., metadata instead of meta data</li>
</ul>
</div>
</div>

<div id="outline-container-orgc39c085" class="outline-4">
<h4 id="orgc39c085"><span class="section-number-4">12.1.10.</span> Contextual formatting</h4>
<div class="outline-text-4" id="text-12-1-10">
<ul class="org-ul">
<li>Use <b>bold</b> for (i) make the core of the message as salient as
possible, (ii) in-line headings at the start of the line</li>
<li>Use <i>emph</i>, or <i>italic</i> if emph is not available, to mark format
names or definition concepts</li>
<li>Use <span class="underline">underline</span> for editing comments that won't make it to the
final version</li>
<li>Use <code>verbatim</code> for programming-like keywords, e.g., <code>gemv</code></li>
<li>Use <code>code</code> for in-line code snippets</li>
</ul>
</div>
</div>

<div id="outline-container-org7d3f906" class="outline-4">
<h4 id="org7d3f906"><span class="section-number-4">12.1.11.</span> Oral presentations</h4>
<div class="outline-text-4" id="text-12-1-11">
<ul class="org-ul">
<li>A sentence is better than a paragraph. A phrase is better than a
sentence. A word is better than a phrase. An image is better than
a word.</li>
<li>Have you noticed how hard it is to convey a technical detail
while giving an oral presentation? Now imagine how hard it is for
the audience to understand anything too technical. Be a nice
speaker instead :)</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-orgdd7f6db" class="outline-3">
<h3 id="orgdd7f6db"><span class="section-number-3">12.2.</span> Scientific programming</h3>
<div class="outline-text-3" id="text-12-2">
<ul class="org-ul">
<li><a href="https://softwareengineering.stackexchange.com/q/373633">Programming cleanly when writing scientific code</a></li>
</ul>
</div>
</div>
<div id="outline-container-org04bb745" class="outline-3">
<h3 id="org04bb745"><span class="section-number-3">12.3.</span> Research project</h3>
<div class="outline-text-3" id="text-12-3">
<p>
Four git repositories are needed. An overarching repository for the
project (<code>project</code>), and subcomponents for the three elements in the
research project (<code>data</code>, <code>analytics</code>, <code>literature</code>
respectively). Possibly use git submodules for the latter.
</p>

<ul class="org-ul">
<li>Data: data acquisition and munging, i.e. from raw data to the
format required downstream</li>
<li>Analytics: analyses of the above data</li>
<li>Literature: writing based on the above analyses, e.g., abstracts,
reports, manuscripts, presentations</li>
</ul>
</div>
</div>
<div id="outline-container-orge4556cf" class="outline-3">
<h3 id="orge4556cf"><span class="section-number-3">12.4.</span> Scientific writing</h3>
<div class="outline-text-3" id="text-12-4">
</div>
<div id="outline-container-org66d81bb" class="outline-4">
<h4 id="org66d81bb"><span class="section-number-4">12.4.1.</span> Tags</h4>
<div class="outline-text-4" id="text-12-4-1">
<p>
You probably want a LaTeX command for these.
</p>

<ul class="org-ul">
<li>Citation needed: when you are inclined to accept the
statement, but still need to pin-point the best reference</li>
<li>Verification needed: when you want to double-check that something
is as stated</li>
<li>Revision needed: when you want to review the math or, more
generally, the logic of the statement</li>
<li>Further research needed: when you make a broad statement, typically
outside the scope of the current writing, that seems worth
exploring by you or anyone else</li>
<li>Discussion needed: when you want to have others opinion</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org19ee169" class="outline-3">
<h3 id="org19ee169"><span class="section-number-3">12.5.</span> Numerical computing</h3>
<div class="outline-text-3" id="text-12-5">
</div>
<div id="outline-container-org3cba431" class="outline-4">
<h4 id="org3cba431"><span class="section-number-4">12.5.1.</span> When to use analytical versus automatic differentiation?</h4>
<div class="outline-text-4" id="text-12-5-1">
<p>
Automatic differentiation can decrease runtime at large over
numeric differentiation with little effort. In some (typically
surprising) cases, automatic differentiation can yield better
runtimes than analytical differentiation. A key aspect about
analytical differentiation is that, besides the math work needed to
obtain the analytical form, their implementation typically requires
a non-trivial amount of work to beat automatic
differentiation. Numerical differentiation is almost always the
least performant.
</p>

<p>
Source: <a href="http://ceres-solver.org/analytical_derivatives.html#when-should-you-use-analytical-derivatives">Analytic Derivatives — Ceres Solver</a>
</p>
</div>
</div>

<div id="outline-container-orgf60c6f8" class="outline-4">
<h4 id="orgf60c6f8"><span class="section-number-4">12.5.2.</span> How to select algorithm tolerance for numerical differentiation?</h4>
<div class="outline-text-4" id="text-12-5-2">
<p>
In absence of problem-specific information, use the square root of
machine epsilon for forward difference, and the cubic root of machine
epsilon for centered difference. Finding a minimum gets the square
root of epsilon while finding a root gets epsilon.
</p>

<p>
Source: <a href="https://scicomp.stackexchange.com/q/14355">Choosing epsilon</a>
</p>
</div>
</div>

<div id="outline-container-org245ce70" class="outline-4">
<h4 id="org245ce70"><span class="section-number-4">12.5.3.</span> How to compute the Euclidean distance matrix fast?</h4>
<div class="outline-text-4" id="text-12-5-3">
<p>
Use the dot product
</p>

<div class="org-src-container">
<pre class="src src-R">X  <span style="color: brightcyan;">&lt;-</span> iris3[,,1]

M  <span style="color: brightcyan;">&lt;-</span> tcrossprod(X)
m  <span style="color: brightcyan;">&lt;-</span> diag(M)
o  <span style="color: brightcyan;">&lt;-</span> rep(1, nrow(M)) <span style="color: #0000ff;"># </span><span style="color: #0000ff;">column vector</span>
h2 <span style="color: brightcyan;">&lt;-</span> m <span style="color: brightcyan;">%*%</span> t(o)      <span style="color: #0000ff;"># </span><span style="color: #0000ff;">outer(m, o) = m %*% t(o)</span>

D2 <span style="color: brightcyan;">&lt;-</span> -2 * M + h2 + t(h2)

all.equal(D2, unname(as.matrix(dist(X))^2))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #ff00ff; font-weight: bold;">def</span> <span style="color: #00ff00; font-weight: bold;">compute_distances_no_loops</span>(<span style="color: #ff00ff; font-weight: bold;">self</span>, X):
      <span style="color: brightwhite; font-weight: bold;">dists</span> = -2 * np.dot(X, <span style="color: #ff00ff; font-weight: bold;">self</span>.X_train.T) +
      np.<span style="color: brightred;">sum</span>(<span style="color: #ff00ff; font-weight: bold;">self</span>.X_train**2, axis=1) + np.<span style="color: brightred;">sum</span>(X**2, axis=1)[:, np.newaxis]
      <span style="color: #ff00ff; font-weight: bold;">return</span> dists
</pre>
</div>

<p>
Source: <a href="https://stats.stackexchange.com/q/397288/31243">Dot Product and Distance Matrix</a>
</p>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Luis Damiano</p>
<p class="date">Created: 2022-04-07 Thu 10:50</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
